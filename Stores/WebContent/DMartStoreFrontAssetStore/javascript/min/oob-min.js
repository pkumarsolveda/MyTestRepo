if(typeof(MessageHelper)=="undefined"||!MessageHelper||!MessageHelper.topicNamespace){MessageHelper={messages:{},identifier:"",tooltip:null,focusElement:"",getCurrentYear:function(){return new Date().getFullYear()},getCurrentMonth:function(){return new Date().getMonth()+1},getCurrentDay:function(){return new Date().getDate()},getRenderContextProperty:function(c,b){console.debug("enter getRenderContextProperty with propertyName = "+b);if(c==null){console.debug("context is null. Return null...");return null}var a=c.properties[b];console.debug("the found property value is: "+a);return a},setMessage:function(a,b){this.messages[a]=b},setFocusElement:function(a){this.focusElement=a},showHideMessageArea:function(b){cursor_clear();if(b==null||b==undefined){b=0}var c=dojo.byId("MessageArea");var a=new Array();a.node=c;a.duration=200;a.delay=0;dojo.style(c,"opacity",0);if(dijit.byId("MessageArea_ACCE_Title")!=null){dijit.byId("MessageArea_ACCE_Title").style.display="block"}dojo.style(c,"display","block");var d=dojo.fadeIn(a);d.play()},hideMessageArea:function(){cursor_clear();var a="";if(dojo.byId(this.focusElement)!=null){a=dojo.byId(this.focusElement)}var b=dojo.byId("MessageArea");var c=new Array();c.node=b;c.duration=500;c.onEnd=function(){dojo.style(b,"display","none");if(dijit.byId("MessageArea_ACCE_Title")!=null){dijit.byId("MessageArea_ACCE_Title").style.display="none"}dojo.style(b,"opacity",100);if(dojo.byId(a)!=null){a.focus()}};dojo.fadeOut(c).play();dojo.byId("ErrorMessageText").innerHTML="";this.focusElement=""},displayErrorMessage:function(b,a,d){if(a==null||a==undefined){a=0}if(d==undefined||d==null||d==true){if(this.messages.ERROR_MESSAGE_TYPE!=null&&this.messages.ERROR_MESSAGE_TYPE!="undefined"){var c=this.messages.ERROR_MESSAGE_TYPE;b=c+b}}this.setMessageAreaStyle("error_icon");dojo.byId("ErrorMessageText").innerHTML=b;this.showHideMessageArea(a);dojo.byId("clickableErrorMessageImg").focus();setTimeout(function(){if(dojo.byId("ErrorMessageText")!=null){dojo.byId("ErrorMessageText").focus()}},1000);if(typeof TealeafWCJS!="undefined"){TealeafWCJS.logClientValidationCustomEvent({fieldId:"-1",message:b})}},setMessageAreaStyle:function(a){dojo.byId("success_icon").style.display="none";dojo.byId("error_icon").style.display="none";if(dojo.byId(a)!=null){dojo.byId(a).style.display="inline"}},displayStatusMessage:function(b,a){if(a==null||a==undefined){a=0}this.setMessageAreaStyle("success_icon");dojo.byId("ErrorMessageText").innerHTML=b;this.showHideMessageArea(a);dojo.byId("clickableErrorMessageImg").focus();setTimeout(function(){if(dojo.byId("ErrorMessageText")!=null){dojo.byId("ErrorMessageText").focus()}},1000)},hideAndClearMessage:function(){dojo.byId("ErrorMessageText").innerHTML="";dojo.byId("MessageArea").style.display="none"},adjustCoordinates:function(a){if(dojo.style("MessageArea","display")!="none"){var e=dojo.byId("page");var c=dojo.byId("MessageArea");if(e!=null&&c!=null){var d=dojo.coords(e,true);var b=d.w;if(dojo.isSafari){b=dojo.style("page","width")}if(a==null||a==undefined){a=0}dojo.style(c,{width:b+20+"px",left:d.x-10+"px",top:(d.y+a)+"px"})}}},formErrorHandle:function(a,b){this.formErrorHandleClient(a.errorMessageParam,a.errorMessage)},formErrorHandleClient:function(a,g){var e=dojo.byId(a);if(g==null){console.debug("formErrorHandleClient: The error message is null.");return}if(e){if(this.identifier!=(a+"_tooltip")){e.focus();this.identifier=a+"_tooltip";var b=document.createElement("span");var c=getImageDirectoryPath();if(dojo.isIE<7){b.innerHTML=g+"<iframe id='errorMessageIFrame' scrolling='no' frameborder='0' src='"+c+"images/empty.gif'></iframe>"}else{b.innerHTML=g}var h=dojo.some(["ar","he","iw"],function(l){return l===dojo.attr(dojo.body().parentNode,"lang")});if(dojo.has("touch")){var f=this;setTimeout(function(){var m=new dijit.Tooltip({connectId:[a],position:["after-centered","before-centered","below","above"],dir:h},b);m.startup();console.log("created with delay",m,m.id);var l=document.createElement("div");l.setAttribute("class","spanacce");l.setAttribute("role","alert");l.setAttribute("id","alert");var n=document.createTextNode(g);l.appendChild(n);document.body.appendChild(l);e.setAttribute("aria-invalid","true");m.open(e);dojo.connect(e,"onblur",m,"close");dojo.connect(e,"onblur",m,"destroy");dojo.connect(e,"onblur",f,"clearCurrentIdentifier");m._onMouseOver=f.emptyFunc;f.tooltip=m},1000)}else{var k=new dijit.Tooltip({connectId:[a],dir:h},b);k.startup();console.log("created",k,k.id);var j=document.createElement("div");j.setAttribute("class","spanacce");j.setAttribute("role","alert");j.setAttribute("id","alert");var d=document.createTextNode(g);j.appendChild(d);document.body.appendChild(j);e.setAttribute("aria-invalid","true");k.open(e);dojo.connect(e,"onblur",k,"close");dojo.connect(e,"onblur",k,"destroy");dojo.connect(e,"onblur",this,"clearCurrentIdentifier");k._onMouseOver=this.emptyFunc;this.tooltip=k}}if(typeof TealeafWCJS!="undefined"){TealeafWCJS.logClientValidationCustomEvent({fieldId:e.id,message:g})}}},hideFormErrorHandle:function(){if(this.tooltip!=null){this.tooltip.destroyRecursive();this.tooltip=null;this.clearCurrentIdentifier()}},clearCurrentIdentifier:function(){this.identifier=""},emptyFunc:function(a){},containsDoubleByte:function(c){var d=new String(c);var b=127;for(var a=0;a<d.length;a++){chr=d.charCodeAt(a);if(chr>b){return true}}return false},isValidEmail:function(a){if(this.containsDoubleByte(a)){return false}if(a.length==0){return true}else{if(a.length<5){return false}else{if(a.indexOf(" ")>0){return false}else{if(a.indexOf("@")<1){return false}else{if(a.lastIndexOf(".")<(a.indexOf("@")+2)){return false}else{if(a.lastIndexOf(".")>=a.length-2){return false}}}}}}return true},isValidUTF8length:function(b,a){if(this.utf8StringByteLength(b)>a){return false}else{return true}},utf8StringByteLength:function(e){if(e===null){return 0}var d=String(e);var b=127;var a=2047;var c=d.length;for(i=0;i<d.length;i++){chr=d.charCodeAt(i);if(chr>b){c=c+1}if(chr>a){c=c+1}}return c},IsNumeric:function(e,c){if(c){var d="0123456789."}else{var d="0123456789"}var b=true;var a;for(i=0;i<e.length&&b==true;i++){a=e.charAt(i);if(d.indexOf(a)==-1){b=false}}return b},IsValidPhone:function(d){var c="0123456789()-+ ";var b=true;var a;for(i=0;i<d.length&&b==true;i++){a=d.charAt(i);if(c.indexOf(a)==-1){b=false}}return b},showConfirmationDialog:function(a,b){require(["dijit/registry","dojo/dom","dojo/on","dojo/topic","dojo/_base/event"],function(d,g,c,e){g.byId("confirmationPopupMessage").innerHTML=b;var f=d.byId("confirmationPopup");f._signalYes=c(g.byId("confirmationPopupYES"),"click",function(h){h.preventDefault();if(f._signalYes!==undefined&&f._signalYes!==null){f._signalYes.remove()}if(f._signalNo!==undefined&&f._signalNo!==null){f._signalNo.remove()}f.hide();e.publish(a,{action:"YES"})}),f._signalNo=c(g.byId("confirmationPopupNO"),"click",function(h){h.preventDefault();if(f._signalYes!==undefined&&f._signalYes!==null){f._signalYes.remove()}if(f._signalNo!==undefined&&f._signalNo!==null){f._signalNo.remove()}f.hide();e.publish(a,{action:"NO"})}),f.show()})}}}dojo.registerModulePath("wc","../wc");dojo.require("wc.service.common");dojo.require("dojo.io.iframe");dojo.require("dojo.io.script");dojo.require("dojo.parser");dojo.require("dijit.form.Button");dojo.require("wc.widget.WCMenu");dojo.require("wc.widget.WCDialog");dojo.require("dijit.layout.TabContainer");dojo.require("dijit.layout.ContentPane");dojo.require("dijit.Tooltip");dojo.require("wc.widget.WCDropDownButton");dojo.require("dijit.Dialog");dojo.require("dojo.currency");dojo.require("dijit.Tree");dojo.require("dojo.back");dojo.require("dijit.form.DateTextBox");dojo.require("wc.widget.RefreshArea");dojo.require("wc.render.RefreshController");dojo.require("wc.render.Context");dojo.require("dojo.cookie");dojo.require("dojo.topic");dojo.subscribe("ajaxRequestInitiated","incrementNumAjaxRequest");dojo.subscribe("ajaxRequestCompleted","decrementNumAjaxRequest");dojo.subscribe("ajaxRequestCompleted","initializeInactivityWarning");var showDropdown=false;var dropDownDlg=null;var productAddedDropDownDlg=null;var originalMiniCartWidth=0;var isIE=(document.all)?true:false;var correctBrowser=false;var requestSubmitted=true;var currentId="";var numAjaxRequests=0;var widgetsList=[];var tabPressed=false;var currentPopup="";var android=null;var ios=null;function initializeInactivityWarning(){}function showInactivityWarningDialog(){dijit.byId("inactivityWarningPopup").show();if(dialogTimeoutTracker!=null){clearTimeout(dialogTimeoutTracker)}dialogTimeoutTracker=setTimeout(hideInactivityWarningDialog,inactivityWarningDialogDisplayTimer)}function hideInactivityWarningDialog(){dijit.byId("inactivityWarningPopup").hide()}function resetServerInactivity(){dojo.xhrPost({url:getAbsoluteURL()+"Ping",handleAs:"json-comment-filtered",content:null,service:this,load:function(b,a){if(b.success){initializeInactivityWarning()}else{console.error("Ping service failed")}},error:function(b,a){console.error("Ping service failed")}})}function byId(a){return document.getElementById(a)}function focusSetter(){if(dojo.byId("MiniCartFocusReceiver1")){dojo.byId("MiniCartFocusReceiver1").focus()}else{dojo.byId("MiniCartFocusReceiver2").focus()}}function determineFocus(a){if(a.shiftKey&&a.keyCode==dojo.keys.TAB){if(a.srcElement){if(a.srcElement.id=="MiniCartFocusReceiver1"){if(dojo.byId("WC_MiniShopCartDisplay_link_5")){dojo.byId("WC_MiniShopCartDisplay_link_5").focus()}dojo.stopEvent(a)}else{if(a.srcElement.id=="MiniCartFocusReceiver2"){dojo.byId("MiniCartFocusReceiver2").focus();dojo.stopEvent(a)}}}else{if(a.target.id=="MiniCartFocusReceiver1"){if(dojo.byId("WC_MiniShopCartDisplay_link_5")){dojo.byId("WC_MiniShopCartDisplay_link_5").focus()}dojo.stopEvent(a)}else{if(a.target.id=="MiniCartFocusReceiver2"){dojo.byId("MiniCartFocusReceiver2").focus();dojo.stopEvent(a)}}}}}function destroyDialog(a){if(a==undefined){a="quick_cart_container"}dojo.query(".dijitDialog",document).forEach(function(b){if(dijit.byNode(b).id==a){dijit.byNode(b).destroyRecursive()}});if(a!=undefined&&a=="quick_cart_container"){dropDownDlg=null}else{productAddedDropDownDlg=null}}function hideUnderlayWrapper(){dojo.query(".dijitDialogUnderlayWrapper",document).forEach(function(a){a.style.display="none"})}function loadLink(a){document.location.href=a}function clearSearchField(){searchText=document.getElementById("SimpleSearchForm_SearchTerm").value;if(searchText==document.getElementById("searchTextHolder").innerHTML){document.getElementById("SimpleSearchForm_SearchTerm").value=""}else{document.getElementById("SimpleSearchForm_SearchTerm").select();showAutoSuggestIfResults();autoSuggestHover=false}}function fillSearchField(){if(document.getElementById("SimpleSearchForm_SearchTerm").value==""){document.getElementById("SimpleSearchForm_SearchTerm").value=document.getElementById("searchTextHolder").innerHTML}if(!autoSuggestHover){showAutoSuggest(false)}}function showDropDownMenu(){var b=document.getElementById("header_menu_dropdown");if(document.getElementById("header_menu_dropdown")!=null&&document.getElementById("header_menu_dropdown")!="undefined"){b.style.display="block"}if(document.getElementById("outerCartContainer")!=null&&document.getElementById("outerCartContainer")!="undefined"){var a=document.getElementById("outerCartContainer");a.style.display="block"}}function initShopcartTarget(){dojo.subscribe("/dnd/drop",function(d,a,f,e){if(d!=e){e.deleteSelectedNodes()}var c=new popupActionProperties();c.showProductCompare=showProductCompare;if(e.parent.id=="miniShopCart_dndTarget"){var b=d.parent.id.indexOf("_",0);if(b>=0){d.parent.id=d.parent.id.substring(b+1)}if(d.node.getAttribute("dndType")=="item"||d.node.getAttribute("dndType")=="package"){categoryDisplayJS.AddItem2ShopCartAjax(d.parent.id,1)}else{if(d.node.getAttribute("dndType")=="product"||d.node.getAttribute("dndType")=="bundle"){showPopup(d.parent.id,function(g){return g},"miniShopCart_dndTarget",null,c)}}}})}function cursor_wait(a){var b=true;if(a==true){if(dojo.isOpera>0){b=false}}if(b){setTimeout("showProgressBar()",500)}}function showProgressBar(){if(!requestSubmitted){return}displayProgressBar()}function displayProgressBar(){var b=dijit.byId("progress_bar_dialog");if(b!=null){b.closeButtonNode.style.display="none";var c=document.getElementById("progress_bar");c.style.display="block";if(this.currentId!=""){var a=document.getElementById(this.currentId);var d=dijit.placeOnScreenAroundElement(c,a,{TR:"TL"})}else{b.containerNode.innerHTML=="";c.style.left="";c.style.top="";b.containerNode.appendChild(c);b.show()}setTimeout("cursor_clear()",1000)}}function setCurrentId(a){if(!requestSubmitted&&this.currentId==""){this.currentId=a}}function trim(c){word=c.toString();var b=0;var a=word.length-1;while(word.charAt(b)==" "){b++}while(word.charAt(a)==" "){a=a-1}if(b>a){return word.substring(b,b)}else{return word.substring(b,a+1)}}function cursor_clear(){requestSubmitted=false;dojo.topic.publish("requestSubmittedChanged",requestSubmitted);var a=dijit.byId("progress_bar_dialog");var b=document.getElementById("progress_bar");if(a!=null){if(b!=null){b.style.display="none"}a.hide();this.currentId=""}}function submitRequest(){if(!requestSubmitted){requestSubmitted=true;dojo.topic.publish("requestSubmittedChanged",requestSubmitted);return true}return false}function resetRequest(){requestSubmitted=false;dojo.topic.publish("requestSubmittedChanged",requestSubmitted)}function setPageLocation(a){if(!submitRequest()){return}document.location.href=a}function submitSpecifiedForm(a){if(!submitRequest()){return}console.debug("form.action == "+a.action);processAndSubmitForm(a)}function parseWidget(a){}function parseAllWidgets(){for(var a=0;a<widgetsList.length;a++){parseWidget(widgetsList[a])}}function addToWidgetsList(a){widgetsList.push(a)}function parseWCCEAWidget(c){var a;var b=ceadijit.byId(c);if(b==null||b==undefined){if(c==null||c==undefined){a=ceadojo.body()}else{a=ceadojo.byId(c)}if(a!=null&&a!=undefined){if(a.getAttribute("ceadojoType")!=null&&a.getAttribute("ceadojoType")!=undefined){ceadojo.parser.instantiate([a])}else{ceadojo.parser.parse(a)}}}}function parseHeader(e){var d=dojo.byId("progress_bar_dialog");var b=document.getElementById("header_menu_loaded");var a=document.getElementById("header_menu_overlay");if(currentId.length==0&&document.getElementById("header_menu_loaded")!=null&&document.getElementById("header_menu_loaded")!="undefined"&&document.getElementById("header_menu_overlay")!=null&&document.getElementById("header_menu_overlay")!="undefined"&&document.getElementById("header_menu_loaded").style.display=="none"){setCurrentId((e!=null&&e!=undefined)?e:a.id);submitRequest();cursor_wait();a.style.display="none";parseWidget("header_menu_loaded");b.style.display="block";cursor_clear();try{if(window.top._ceaCollabDialog!=undefined||window.top._ceaCollabDialog!=null){dijit.registry.byClass("wc.widget.WCDropDownButton").forEach(function(f){dojo.connect(f,"_onDropDownClick",dojo.hitch(window.top._ceaCollabDialog,"topCategoryClicked",f.getURL()));dojo.connect(f,"onKeyPress",window.top._ceaCollabDialog,function(g){if(g.keyCode==dojo.keys.ENTER){window.top._ceaCollabDialog.topCategoryClicked(f.getURL())}})})}}catch(c){console.log(c)}}}function hideElementById(a){var b=dojo.byId(a);b.style.display="none"}function showElementById(a){var b=dojo.byId(a);b.style.display="block"}function hideBackgroundImage(a){a.style.backgroundImage="none"}function showBackgroundImage(a){a.style.backgroundImage="url("+getImageDirectoryPath()+getStyleDirectoryPath()+"product_hover_background.png)"}function checkIE8Browser(){if(dojo.isIE&&dojo.isIE<=8){correctBrowser=true}}function ApprovalToolLink(b,a){checkIE8Browser();if(correctBrowser){RFQwindow=window.open(a)}else{MessageHelper.formErrorHandleClient(b,MessageHelper.messages.ERROR_INCORRECT_BROWSER);return}}function updateViewAndBeginIndexForCurrencyChange(){if(document.getElementById("fastFinderResultControls")!=null&&document.getElementById("fastFinderResultControls")!=""){if(document.SetCurrencyPreferenceForm.pageView!=null){document.SetCurrencyPreferenceForm.pageView.value=document.FastFinderForm.pageView.value}if(document.SetCurrencyPreferenceForm.beginIndex!=null){document.SetCurrencyPreferenceForm.beginIndex.value=document.FastFinderForm.beginIndex.value}}else{if(document.getElementById("CategoryDisplay_Widget")!=null&&document.getElementById("CategoryDisplay_Widget")!=""){if(wc.render.getContextById("CategoryDisplay_Context").properties.pageView!=""&&document.SetCurrencyPreferenceForm.pageView!=null){document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("CategoryDisplay_Context").properties.pageView}if(wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex!=""&&document.SetCurrencyPreferenceForm.beginIndex!=null){document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex}}else{if(document.getElementById("Search_Result_Summary")!=null&&document.getElementById("Search_Result_Summary")!=""){if(wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView!=""&&document.SetCurrencyPreferenceForm.pageView!=null){document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView}if(wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum!=""&&document.SetCurrencyPreferenceForm.beginIndex!=null){document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum}}else{if(document.getElementById("Search_Result_Summary2")!=null&&document.getElementById("Search_Result_Summary2")!=""){if(wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView!=""&&document.SetCurrencyPreferenceForm.pageView!=null){document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView}if(wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum!=""&&document.SetCurrencyPreferenceForm.beginIndex!=null){document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum}}}}}try{if(window.top._ceaCollabDialog!=undefined||window.top._ceaCollabDialog!=null){dojo.byId("SetCurrencyPreferenceForm").URL.value=dojo.byId("SetCurrencyPreferenceForm").URL.value+"&coshopChangeCurrency="+dojo.byId("currencySelection").options[dojo.byId("currencySelection").selectedIndex].value}}catch(a){console.log(a)}}function updateViewAndBeginIndexForLanguageChange(){if(document.getElementById("fastFinderResultControls")!=null&&document.getElementById("fastFinderResultControls")!=""){if(document.LanguageSelectionForm.pageView!=null){document.LanguageSelectionForm.pageView.value=document.FastFinderForm.pageView.value}if(document.LanguageSelectionForm.beginIndex!=null){document.LanguageSelectionForm.beginIndex.value=document.FastFinderForm.beginIndex.value}}else{if(document.getElementById("CategoryDisplay_Widget")!=null&&document.getElementById("CategoryDisplay_Widget")!=""){if(wc.render.getContextById("CategoryDisplay_Context").properties.pageView!=""&&document.LanguageSelectionForm.pageView!=null){document.LanguageSelectionForm.pageView.value=wc.render.getContextById("CategoryDisplay_Context").properties.pageView}if(wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex!=""&&document.LanguageSelectionForm.beginIndex!=null){document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex}}else{if(document.getElementById("Search_Result_Summary")!=null&&document.getElementById("Search_Result_Summary")!=""){if(wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView!=""&&document.LanguageSelectionForm.pageView!=null){document.LanguageSelectionForm.pageView.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView}if(wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum!=""&&document.LanguageSelectionForm.beginIndex!=null){document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum}}else{if(document.getElementById("Search_Result_Summary2")!=null&&document.getElementById("Search_Result_Summary2")!=""){if(wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView!=""&&document.LanguageSelectionForm.pageView!=null){document.LanguageSelectionForm.pageView.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView}if(wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum!=""&&document.LanguageSelectionForm.beginIndex!=null){document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum}}}}}try{if(window.top._ceaCollabDialog!=undefined||window.top._ceaCollabDialog!=null){dojo.byId("LanguageSelectionForm").action=dojo.byId("LanguageSelectionForm").action+"&langId="+dojo.byId("languageSelection").options[dojo.byId("languageSelection").selectedIndex].value}}catch(a){console.log(a)}}function showHeaderLinksInTwoLines(){if(document.getElementById("header_links")!=null&&document.getElementById("header_links")!="undefined"){if(dojo.contentBox(document.getElementById("header_links")).w>750){if(document.getElementById("header_links1")!=null&&document.getElementById("header_links1")!="undefined"){document.getElementById("header_links1").style.display="block"}if(document.getElementById("headerHomeLink")!=null&&document.getElementById("headerHomeLink")!="undefined"){document.getElementById("headerHomeLink").style.display="none"}if(document.getElementById("headerShopCartLink")!=null&&document.getElementById("headerShopCartLink")!="undefined"){document.getElementById("headerShopCartLink").style.display="none"}}document.getElementById("header_links").style.visibility="visible"}}function showLinksInOneLine(){if(document.getElementById("header_links")!=null&&document.getElementById("header_links")!="undefined"){document.getElementById("header_links").style.visibility="visible"}}function isNonNegativeInteger(b){var a=new RegExp(/^\d*$/);return(b!=null&&b!=""&&a.test(b))}function isPositiveInteger(a){return(isNonNegativeInteger(a)&&a!=0)}function closeAllDialogs(){dijit.registry.byClass("dijit.Dialog").forEach(function(a){a.hide()})}function setWarningMessageCookie(a){dojo.cookie("signon_warning_cookie",a,{path:"/"})}function removeCookie(a){dojo.cookie(a,null,{expires:-1})}function getCookie(f){var e=document.cookie.split(";");for(var d=0;d<e.length;d++){var b=e[d].indexOf("=");var a=e[d].substr(0,b);a=a.replace(/^\s+|\s+$/g,"");if(a==f){return decodeURIComponent(e[d].substr(b+1))}}}function getCookieName_BeginningWith(f){var e=document.cookie.split(";");for(var d=0;d<e.length;d++){var b=e[d].indexOf("=");var a=e[d].substr(0,b);a=a.replace(/^\s+|\s+$/g,"");if(stringStartsWith(a,f)){return a}}}function stringStartsWith(a,b){return b.length>0&&a.substring(0,b.length)===b}function isStorePreview(a,b){if(a.indexOf(b)>-1){return true}return false}function hideESpotInfoPopup(c,a){if(a!=null&&a.type=="keypress"&&a.keyCode!="27"){return}else{var b=dijit.byId(c);if(b!=null){b.hide()}}}function showESpotInfoPopup(c,a){if(a!=null&&a.type=="keypress"&&a.keyCode!="13"){return}else{if(!parent.checkPopupAllowed()){return}var b=dijit.byId(c);if(b!=null){b.show()}}}function incrementNumAjaxRequest(){if(numAjaxRequests!="undefined"){numAjaxRequests++}}function decrementNumAjaxRequest(){if(numAjaxRequests!="undefined"){if(numAjaxRequests!=0){numAjaxRequests--}}}function updateParamObject(g,e,f,d,b){if(g==null){g=[]}if(g[e]!=null&&d){if(dojo.lang.isArrayLike(g[e])){if(b!=null&&b!=""){g[e][b]=f}else{g[e].push(f)}}else{var a=g[e];g[e]=[];g[e].push(a);g[e].push(f)}}else{if(b!=null&&b!=""&&b!=-1){g[e+"_"+b]=f}else{if(b==-1){var c=1;while(g[e+"_"+c]!=null){c++}g[e+"_"+c]=f}else{g[e]=f}}}return g}function showSection(b){var a=dojo.byId(b);if(a!=null&&a!="undefined"){a.style.visibility="visible"}}function hideSection(b){var a=dojo.byId(b);if(a!=null&&a!="undefined"){a.style.visibility=""}}function shiftTabHideSection(b,a){if(a.shiftKey&&(a.keyCode==dojo.keys.TAB)){hideSection(b)}}function tabHideSection(c,b,a){if(!b.shiftKey&&(b.keyCode==dojo.keys.TAB)){if(null!=a){dojo.byId(a).focus()}hideSection(c);dojo.stopEvent(b)}}function saveShiftTabPress(a){if(a.shiftKey==true&&a.keyCode==9){tabPressed=true}}function saveTabPress(a){if(a.shiftKey==false&&a.keyCode==9){tabPressed=true}}function setFocus(a){if(tabPressed){tabPressed=false;document.getElementById(a).focus()}}function increaseHeight(a,c){var b=document.getElementById(a).offsetHeight;document.getElementById(a).style.height=(b+c)+"px"}function redirectToSignOn(b){var c=document.location.href;var d=c.lastIndexOf("s",4);if(d!=-1){var a=c}else{var a=c.substring(0,4)+"s"+(c.substring(4))}dojo.cookie("WC_RedirectToPage_"+WCParamJS.storeId,b,{path:"/"});dojo.cookie("WC_DisplaySignInPanel_"+WCParamJS.storeId,"true",{path:"/"});document.location.href=a}function handlePopup(b,a){if(currentPopup==a){document.location.href=b}else{currentPopup=a}}function isAndroid(){if(android==null){if(navigator!=null){if(navigator.userAgent!=null){var a=navigator.userAgent.toLowerCase();android=a.indexOf("android")>-1}}}return android}function isIOS(){if(ios==null){if(navigator!=null){if(navigator.userAgent!=null){var a=navigator.userAgent.toLowerCase();ios=(a.indexOf("ipad")>-1)||(a.indexOf("iphone")>-1)||(a.indexOf("ipod")>-1)}}}return ios}function outlineSpots(){dojo.addClass(document.body,"editMode");dojo.query(".carousel > .content").style({zIndex:"auto"});dojo.query(".ESpotInfo").style({display:"block"});dojo.query(".searchScore").style({display:"block"});dojo.query(".editManagedContent").style({display:"block"});var d=dojo.query(".genericESpot,.product,.searchResultSpot,.productDetail,.categorySpot");for(var b=0;b<d.length;b++){var a=d[b];if(dojo.hasClass(a,"emptyESpot")){var e=dojo.query(".ESpotInfo",a)[0].offsetWidth+4;var c=dojo.query(".ESpotInfo",a)[0].offsetHeight+4;dojo.attr(a,"_width",dojo.style(a,"width"));dojo.attr(a,"_height",dojo.style(a,"height"));dojo.style(a,{width:+e+"px",height:c+"px"})}if(dojo.query(".borderCaption",a).length==0){dojo.place("<div class='borderCaption'></div>",a,"first")}else{dojo.query(".borderCaption",a).style({display:"block"})}if(a.addEventListener){a.addEventListener("mouseover",function(f){if(!window.parent.frames[0].isSpotsShown()){return}dojo.query(".caption").style({display:"none"});dojo.style(dojo.query(".caption",this)[0],{display:"block"});f.stopPropagation()},false);a.addEventListener("mouseout",function(f){if(!window.parent.frames[0].isSpotsShown()){return}dojo.query(".caption",this).style({display:"none"});f.stopPropagation()},false)}else{if(a.attachEvent){a.onmouseover=((function(f){return(function(){if(!window.parent.frames[0].isSpotsShown()){return}dojo.query(".caption").style({display:"none"});dojo.style(dojo.query(".caption",f)[0],{display:"block"});window.event.cancelBubble=true})})(a));a.onmouseleave=((function(f){return(function(){if(!window.parent.frames[0].isSpotsShown()){return}dojo.query(".caption",f).style({display:"none"});window.event.cancelBubble=true})})(a))}}}}function hideSpots(){dojo.removeClass(document.body,"editMode");dojo.query(".carousel > .content").style({zIndex:""});dojo.query(".ESpotInfo").style({display:"none"});dojo.query(".caption").style({display:"none"});dojo.query(".searchScore").style({display:"none"});dojo.query(".editManagedContent").style({display:"none"});dojo.query(".borderCaption").style({display:"none"});dojo.query(".emptyESpot").forEach(function(a){dojo.style(a,{width:dojo.attr(a,"_width")+"px"});dojo.style(a,{height:dojo.attr(a,"_height")+"px"})})}function logout(a){setDeleteCartCookie();document.location.href=a}function switchLanguageCurrency(d){var f=document.location.href;var a="/"+document.getElementById("currentLanguageSEO").value+"/";if(f.indexOf("SearchDisplay")!=-1&&f.indexOf("#")!=-1){var c=f.split("#");f=c[0]}var e=f;if(f.indexOf(a)!=-1){if(document.getElementById("langSEO"+document.getElementById("languageSelection").options[document.getElementById("languageSelection").selectedIndex].value)){var h="/"+document.getElementById("langSEO"+document.getElementById("languageSelection").options[document.getElementById("languageSelection").selectedIndex].value).value+"/";e=f.replace(a,h)}}if(e.indexOf("&")!=-1){var g=e.split("&");e="";for(var b=0;b<g.length;b++){if(g[b].indexOf("langId=")==-1){if(e==""){e=g[b]}else{e=e+"&"+g[b]}}else{if(g[b].indexOf("langId=")>0){if(b==0){e=g[0].substring(0,g[0].indexOf("langId="))}else{e=e+"&"}e=e+"langId="+document.getElementById("languageSelection").options[document.getElementById("languageSelection").selectedIndex].value}}}}document.forms[d].URL.value=e;document.forms[d].languageSelectionHidden.value=document.getElementById("languageSelection").options[document.getElementById("languageSelection").selectedIndex].value;dijit.byId("widget_language_and_currency_popup").hide();if(typeof(GlobalLoginShopOnBehalfJS)!="undefined"&&GlobalLoginShopOnBehalfJS!=null){GlobalLoginShopOnBehalfJS.deleteBuyerUserNameCookie()}document.getElementById(d).submit()}function isParameterExcluded(d,c){try{if(typeof URLConfig==="object"){if(typeof URLConfig.excludedURLPatterns==="object"){for(var b in URLConfig.excludedURLPatterns){var g=URLConfig.excludedURLPatterns[b];var e=b;if(typeof g==="object"){if(g.urlPattern){e=g.urlPattern}console.debug("URL pattern to match : "+e);e=new RegExp(e);if(d.match(e)){var a=g.excludedParameters;for(var h in a){if(parametername==h){return true}}}}}}else{console.debug("The parameter "+c+" is not excluded")}}else{console.debug("No URLConfig defined.")}}catch(f){console.debug("An error occured while trying to exclude "+f)}return false}function appendToURL(b,a,e,c){c=(null==c)?false:c;var d=new RegExp(a+"=[^&]+");var f=a+"="+e;if(b.indexOf(f)!=-1){}else{if(!d.test(b)||c){if(b.indexOf("?")==-1){b=b+"?"}else{b=b+"&"}b=b+f}else{b=b.replace(d,f)}}return b}function appendWcCommonRequestParameters(b,c){c=(null==c)?false:c;if(typeof wcCommonRequestParameters==="object"){for(var a in wcCommonRequestParameters){if(!isParameterExcluded(b,a)){b=appendToURL(b,a,wcCommonRequestParameters[a],c)}}}return b}function updateFormWithWcCommonRequestParameters(d,b){b=(null==b)?false:b;if(typeof wcCommonRequestParameters==="object"){for(var a in wcCommonRequestParameters){if(d.action!==undefined&&null!==d.action&&!isParameterExcluded(d.action,a)){var c=false;dojo.query("input[name='"+a+"']",d).forEach(function(e){if(e.value==wcCommonRequestParameters[a]){c=true}else{if(!b){d.removeChild(e)}}});if(!c){if(d.method=="get"){dojo.create("input",{name:a,type:"hidden",value:wcCommonRequestParameters[a]},d)}else{d.action=appendToURL(d.action,a,wcCommonRequestParameters[a],b)}}}}}}function processAndSubmitForm(a){updateFormWithWcCommonRequestParameters(a);a.submit()}function getCommonParametersQueryString(){return"storeId="+WCParamJS.storeId+"&langId="+WCParamJS.langId+"&catalogId="+WCParamJS.catalogId}function getFinalViewURL(c){var h=c.indexOf("finalView");if(h!=-1){var e=c.indexOf("&",h);if(e==-1){var b=c.substring(h+10)}else{var b=c.substring(h+10,e)}var g=c.indexOf("?");var f=c.substring(g+1,h);if(e==-1){var d=""}else{var d=c.substring(e)}if(f.charAt(f.length-1)=="&"){f=f.substring(0,f.length-1)}if(f.charAt(0)=="&"){f=f.substring(1)}if(d.charAt(d.length-1)=="&"){d=d.substring(0,d.length-1)}if(d.charAt(0)=="&"){d=d.substring(1)}var a="";if(f!=""){a=b+"?"+f;if(d!=""){a=a+"&"+d}}else{a=b+"?"+d}return a}else{return""}}wc.service.declare({id:"MyAcctAjaxAddOrderItem",actionId:"AjaxAddOrderItem",url:"",formId:"",successHandler:function(a){MessageHelper.hideAndClearMessage();MessageHelper.displayStatusMessage(storeNLS.SHOPCART_ADDED);dojo.cookie("WC_nextURL_"+WCParamJS.storeId,null,{expires:-1,path:"/"});cursor_clear()},failureHandler:function(a){if(a.errorMessage){if(a.errorMessageKey=="_ERR_NO_ELIGIBLE_TRADING"){MessageHelper.displayErrorMessage(storeNLS.ERROR_CONTRACT_EXPIRED_GOTO_ORDER)}else{MessageHelper.displayErrorMessage(a.errorMessage)}}else{if(a.errorMessageKey){MessageHelper.displayErrorMessage(a.errorMessageKey)}}cursor_clear()}});wc.service.declare({id:"MyAcctGenericService",actionId:"",url:"",formId:"",successHandler:function(a){dojo.cookie("WC_nextURL_"+WCParamJS.storeId,null,{expires:-1,path:"/"});MessageHelper.hideAndClearMessage();finalViewURL=getFinalViewURL(this.url);if(finalViewURL!=""){document.location.href=finalViewURL}else{MessageHelper.displayStatusMessage(storeNLS.MYACCOUNT_ACTION_PERFORMED);cursor_clear()}},failureHandler:function(a){if(a.errorMessage){MessageHelper.displayErrorMessage(a.errorMessage)}else{if(a.errorMessageKey){MessageHelper.displayErrorMessage(a.errorMessageKey)}}cursor_clear()}});function invokeItemAdd(a){wc.service.getServiceById("MyAcctAjaxAddOrderItem").url=a;var b=[];b.PasswordRequestAuthenticated="TRUE";if(!submitRequest()){return}cursor_wait();dojo.cookie("WC_nextURL_"+WCParamJS.storeId,null,{expires:-1,path:"/"});wc.service.invoke("MyAcctAjaxAddOrderItem",b)}function invokeOtherService(a){wc.service.getServiceById("MyAcctGenericService").url=a;var b=[];b.PasswordRequestAuthenticated="TRUE";if(!submitRequest()){return}cursor_wait();dojo.cookie("WC_nextURL_"+WCParamJS.storeId,null,{expires:-1,path:"/"});wc.service.invoke("MyAcctGenericService",b)}function getCookie(f){var e=document.cookie.split(";");for(var d=0;d<e.length;d++){var b=e[d].indexOf("=");var a=e[d].substr(0,b);a=a.replace(/^\s+|\s+$/g,"");if(a==f){return unescape(e[d].substr(b+1))}}}if(typeof(ResponsiveJS)=="undefined"||ResponsiveJS==null||!ResponsiveJS){ResponsiveJS={init:function(){dojo.connect(dojo.byId("footerCustomerService"),"onclick",ResponsiveJS,ResponsiveJS._cSToggleAndShow);dojo.connect(dojo.byId("footerCorporateInfo"),"onclick",ResponsiveJS,ResponsiveJS._cIToggleAndShow);dojo.connect(dojo.byId("footerExplore"),"onclick",ResponsiveJS,ResponsiveJS._eToggleAndShow);dojo.connect(dojo.byId("footerFollowUs"),"onclick",ResponsiveJS,ResponsiveJS._FUToggleAndShow)},_cSToggleAndShow:function(a){this.toggle(dojo.byId("cSTog"));this.show(dojo.byId("expandCS"))},_cIToggleAndShow:function(a){this.toggle(dojo.byId("cITog"));this.show(dojo.byId("expandCI"))},_eToggleAndShow:function(a){this.toggle(dojo.byId("eTog"));this.show(dojo.byId("expandE"))},_FUToggleAndShow:function(a){this.toggle(dojo.byId("fUTog"));this.show(dojo.byId("expandFU"))},toggle:function(b){var a=b;if(a!=null){if(a.style.backgroundPosition=="-161px -1px"){a.style.backgroundPosition="-181px -1px";a.style.width="12px";a.style.height="6px";a.style.left="6px";a.style.top="14px"}else{a.style.backgroundPosition="-161px -1px";a.style.width="6px";a.style.height="12px";a.style.left="10px";a.style.top="10px"}}},show:function(a){srcElement=a;if(srcElement!=null){if(srcElement.style.display=="block"){close("searchDropdown");srcElement.style.display="none"}else{dojo.query(".subDeptDropdown ").forEach(function(b){close(b.id)});close("departmentsDropdown");close("qLinkDropdown");close("mobileSearchDropdown");close("searchDropdown");close("pageDropdown");close("sortDropdown");srcElement.style.display="block"}}}}}if(typeof(SearchJS)=="undefined"||SearchJS==null||!SearchJS){SearchJS={autoSuggestTimer:-1,autoSuggestKeystrokeDelay:400,autoSuggestHover:false,autoSuggestPreviousTerm:"",autoSuggestURL:"",autoSelectOption:-1,historyIndex:-1,retrievedCachedSuggestions:false,TOTAL_SUGGESTED:4,TOTAL_HISTORY:2,AUTOSUGGEST_THRESHOLD:1,DYNAMIC_AUTOSUGGEST_THRESHOLD:1,CACHED_AUTOSUGGEST_OFFSET:1000,END_OF_LIST:false,STATIC_CONTENT_SECTION_DIV:["autoSuggestStatic_1","autoSuggestStatic_2","autoSuggestStatic_3"],staticContentHeaderHistory:"",CachedSuggestionsURL:"",SearchAutoSuggestServletURL:"",searchDepartmentHoverTimeout:"",searchSuggestionHoverTimeout:"",mouseDownConnectHandle:null,searchDepartmentSelect:function(b,a){byId("searchDepartmentLabel").innerHTML=a.innerHTML;byId("search_categoryId").value=b;this.hideSearchDepartmentList();return false},cancelEvent:function(a){if(a.stopPropagation){a.stopPropagation()}if(a.preventDefault){a.preventDefault()}a.cancelBubble=true;a.cancel=true;a.returnValue=false},searchDepartmentKeyPressed:function(d,f,a,e,c){if(d.keyCode==13){this.searchDepartmentSelect(e,c);var b=document.getElementById("mobileSearchDropdown");if(b!=null&&b.style.display=="block"){dojo.byId("MobileSimpleSearchForm_SearchTerm").focus()}else{document.CatalogSearchForm.searchTerm.focus()}}else{if(d.keyCode==38){if(f!=0){dojo.byId("searchDepartmentList_"+(f-1)).focus();this.cancelEvent(d)}}else{if(d.keyCode==40){if(f!=a){dojo.byId("searchDepartmentList_"+(f+1)).focus();this.cancelEvent(d)}}else{if(d.keyCode==27){var b=document.getElementById("mobileSearchDropdown");if(b!=null&&b.style.display=="block"){dojo.byId("MobileSimpleSearchForm_SearchTerm").focus()}else{document.CatalogSearchForm.searchTerm.focus()}this.hideSearchDepartmentList()}else{if(d.shiftKey&&d.keyCode==9){var b=document.getElementById("mobileSearchDropdown");if(b!=null&&b.style.display=="block"){dojo.byId("MobileSimpleSearchForm_SearchTerm").focus()}else{document.CatalogSearchForm.searchTerm.focus()}this.cancelEvent(d);this.hideSearchDepartmentList()}else{if(d.keyCode==9){dojo.byId("search_submit").focus();this.cancelEvent(d);this.hideSearchDepartmentList()}}}}}}return false},hideSearchDepartmentList:function(){byId("searchDepartmentList").style.display="none"},init:function(){this.staticContentHeaderHistory=storeNLS.HISTORY},showSearchComponent:function(){var a=document.getElementById("searchDropdown");if(a!=null){a.style.display="block"}},hideSearchComponent:function(){var a=document.getElementById("searchDropdown");if(a!=null){a.style.display="none"}},_showMobileSearchComponent:function(){var a=document.getElementById("mobileSearchDropdown");if(a!=null){if(a.style.display=="block"){DepartmentJS.close("mobileSearchDropdown");a.style.display="none"}else{dojo.query(".subDeptDropdown ").forEach(function(b){DepartmentJS.close(b.id)});DepartmentJS.close("departmentsDropdown");a.style.display="block"}}},setCachedSuggestionsURL:function(a){this.CachedSuggestionsURL=getAbsoluteURL()+a},setAutoSuggestURL:function(a){this.SearchAutoSuggestServletURL=getAbsoluteURL()+a},_onFocus:function(a){this.showSearchComponent();this.retrieveCachedSuggestions()},_MobileonFocus:function(a){this.showSearchComponent();this.retrieveCachedSuggestions()},_MobileonBlur:function(a){clearTimeout(this.searchSuggestionHoverTimeout);this.searchSuggestionHoverTimeout=setTimeout("SearchJS.showAutoSuggest(false)",100)},_onKeyPress:function(a){return a.keyCode!=dojo.keys.ENTER},_onKeyDown:function(a){if(a.keyCode==dojo.keys.ENTER){this._handleEnterKey();this.cancelEvent(a)}else{if(a.keyCode=="9"||a.which=="9"){clearTimeout(this.searchSuggestionHoverTimeout);this.searchSuggestionHoverTimeout=setTimeout("SearchJS.showAutoSuggest(false)",200)}}},_onKeyUp:function(b){var a=document.getElementById("searchDropdown");a.style.display="block";this.doAutoSuggest(b,this.SearchAutoSuggestServletURL,document.CatalogSearchForm.searchTerm.value)},_onKeyTab:function(a){if(a.keyCode=="9"||a.which=="9"){dojo.byId("searchFilterButton").focus()}},_MobileonKeyUp:function(b){var a=document.getElementById("mobileSearchDropdown");a.style.display="block";this.doAutoSuggest(b,this.SearchAutoSuggestServletURL,dojo.byId("MobileSimpleSearchForm_SearchTerm").value)},_handleEnterKey:function(){document.CatalogSearchForm.searchTerm.value=trim(document.CatalogSearchForm.searchTerm.value);if(document.CatalogSearchForm.searchTerm.value.length>0){if(this.END_OF_LIST){this.gotoAdvancedSearch(byId("advancedSearch").href)}else{if(this.autoSuggestURL!=""&&this.autoSuggestURL!=(document.location.href+"#")){document.location.href=appendWcCommonRequestParameters(this.autoSuggestURL)}else{document.CatalogSearchForm.searchTerm.value=trim(document.CatalogSearchForm.searchTerm.value);submitSpecifiedForm(document.CatalogSearchForm)}}}},_onClick:function(a){document.CatalogSearchForm.searchTerm.value=trim(document.CatalogSearchForm.searchTerm.value);if(document.CatalogSearchForm.searchTerm.value.length>0){if(typeof TealeafWCJS!="undefined"){TealeafWCJS.processDOMEvent(a)}submitSpecifiedForm(document.CatalogSearchForm)}return false},_MobileonClick:function(a){document.MobileCatalogSearchForm.searchTerm.value=trim(document.MobileCatalogSearchForm.searchTerm.value);if(document.MobileCatalogSearchForm.searchTerm.value.length>0){if(typeof TealeafWCJS!="undefined"){TealeafWCJS.processDOMEvent(a)}submitSpecifiedForm(document.MobileCatalogSearchForm)}return false},doDynamicAutoSuggest:function(b,a,c){if(this.autoSuggestTimer!=-1){clearTimeout(this.autoSuggestTimer);this.autoSuggestTimer=-1}this.autoSuggestTimer=setTimeout(function(){wc.render.getRefreshControllerById("AutoSuggestDisplayController").url=b+"&term="+encodeURIComponent(a)+"&showHeader="+c;console.debug("update autosuggest "+b);wc.render.updateContext("AutoSuggest_Context",{});this.autoSuggestTimer=-1},this.autoSuggestKeystrokeDelay)},gotoAdvancedSearch:function(b){var a=byId("SimpleSearchForm_SearchTerm").value;document.location.href=appendWcCommonRequestParameters(b)+"&searchTerm="+a},showAutoSuggest:function(c){var b=document.getElementById("autoSuggest_Result_div");if(dojo.isIE<7){var d=document.getElementById("autoSuggest_content_div");var a=document.getElementById("autoSuggestDropDownIFrame")}if(b!=null&&typeof b!="undefined"){if(c){b.style.display="block";if(dojo.isIE<7){a.style.height=d.scrollHeight;a.style.display="block"}this.registerMouseDown()}else{if(dojo.isIE<7){a.style.display="none";a.style.height=0}b.style.display="none";this.unregisterMouseDown()}}else{this.unregisterMouseDown()}},showAutoSuggestIfResults:function(){var a=document.getElementById("mobileSearchDropdown");if(typeof(staticContent)!="undefined"&&document.getElementById(this.STATIC_CONTENT_SECTION_DIV[0]).innerHTML==""&&document.getElementById("autoSuggestHistory").innerHTML==""&&document.getElementById("dynamicAutoSuggestTotalResults")==null){this.showAutoSuggest(false)}else{if(a!=null&&a.style.display=="block"){if(document.getElementById("MobileSimpleSearchForm_SearchTerm").value.length<=this.AUTOSUGGEST_THRESHOLD){this.showAutoSuggest(false)}else{this.showAutoSuggest(true)}}else{if(document.CatalogSearchForm.searchTerm.value.length<=this.AUTOSUGGEST_THRESHOLD){this.showAutoSuggest(false)}else{this.showAutoSuggest(true)}}}},selectAutoSuggest:function(a){var b=document.getElementById("mobileSearchDropdown");if(b!=null&&b.style.display=="block"){var c=document.getElementById("MobileSimpleSearchForm_SearchTerm")}else{var c=document.CatalogSearchForm.searchTerm}c.value=a;c.focus();this.autoSuggestPreviousTerm=a;if(typeof TealeafWCJS!="undefined"){TealeafWCJS.createExplicitChangeEvent(c)}submitSpecifiedForm(document.CatalogSearchForm)},highLightSelection:function(e,b){var c=document.getElementById("autoSelectOption_"+b);if(c!=null&&typeof c!="undefined"){if(e){c.className="autoSuggestSelected";var d=document.getElementById("mobileSearchDropdown");if(d!=null&&d.style.display=="block"){var f=document.getElementById("MobileSimpleSearchForm_SearchTerm")}else{var f=document.CatalogSearchForm.searchTerm}f.setAttribute("aria-activedescendant","suggestionItem_"+b);var a=document.getElementById("dynamicAutoSuggestTotalResults");if((a!=null&&typeof a!="undefined"&&b<a.value)||(b>=this.historyIndex)){f.value=c.title;this.autoSuggestPreviousTerm=c.title}this.autoSuggestURL=c.href}else{c.className=""}return true}else{return false}},enableAutoSelect:function(a){this.highLightSelection(false,this.autoSelectOption);var b=document.getElementById("autoSelectOption_"+a);b.className="autoSuggestSelected";this.autoSelectOption=a},resetAutoSuggestKeyword:function(){var a=document.getElementById("autoSuggestOriginalTerm");if(a!=null&&typeof a!="undefined"){var b=document.getElementById("mobileSearchDropdown");if(b!=null&&b.style.display=="block"){var c=document.getElementById("MobileSimpleSearchForm_SearchTerm")}else{var c=document.CatalogSearchForm.searchTerm}c.value=a.value;this.autoSuggestPreviousTerm=a.value}},clearAutoSuggestResults:function(){for(var a=0;a<staticContent.length;a++){document.getElementById(this.STATIC_CONTENT_SECTION_DIV[a]).innerHTML=""}this.autoSuggestPreviousTerm="";this.autoSuggestURL="";document.getElementById("autoSuggestDynamic_Result_div").innerHTML="";this.showAutoSuggest(false)},doAutoSuggest:function(a,b,d){if(d.length<=this.AUTOSUGGEST_THRESHOLD){this.showAutoSuggest(false)}if(a.keyCode==dojo.keys.ENTER){return}if(a.keyCode==dojo.keys.TAB){this.autoSuggestHover=true;return}if(a.keyCode==dojo.keys.ESCAPE){this.showAutoSuggest(false);return}if(a.keyCode==dojo.keys.UP_ARROW){var h=document.getElementById("dynamicAutoSuggestTotalResults");if(this.END_OF_LIST){dojo.removeClass("autoSuggestAdvancedSearch","autoSuggestSelected");this.END_OF_LIST=false;this.autoSelectOption--;if(!this.highLightSelection(true,this.autoSelectOption)){if(this.autoSelectOption==this.CACHED_AUTOSUGGEST_OFFSET&&h!=null&&typeof h!="undefined"){this.autoSelectOption=h.value-1;this.highLightSelection(true,this.autoSelectOption)}}}else{if(this.highLightSelection(true,this.autoSelectOption-1)){this.highLightSelection(false,this.autoSelectOption);if(this.autoSelectOption==this.historyIndex){this.resetAutoSuggestKeyword()}this.autoSelectOption--}else{if(this.autoSelectOption==this.CACHED_AUTOSUGGEST_OFFSET&&h!=null&&typeof h!="undefined"){this.highLightSelection(false,this.CACHED_AUTOSUGGEST_OFFSET);this.autoSelectOption=h.value-1;this.highLightSelection(true,this.autoSelectOption)}else{this.highLightSelection(false,this.autoSelectOption);this.autoSelectOption=-1;var e=document.getElementById("autoSuggestOriginalTerm");this.resetAutoSuggestKeyword()}}}return}if(a.keyCode==dojo.keys.DOWN_ARROW){if(this.highLightSelection(true,this.autoSelectOption+1)){this.highLightSelection(false,this.autoSelectOption);this.autoSelectOption++}else{if(this.autoSelectOption<this.CACHED_AUTOSUGGEST_OFFSET&&this.highLightSelection(true,this.CACHED_AUTOSUGGEST_OFFSET)){this.highLightSelection(false,this.autoSelectOption);this.autoSelectOption=this.CACHED_AUTOSUGGEST_OFFSET;this.resetAutoSuggestKeyword()}else{if(!this.END_OF_LIST){dojo.addClass("autoSuggestAdvancedSearch","autoSuggestSelected");this.highLightSelection(false,this.autoSelectOption);this.autoSelectOption++;this.END_OF_LIST=true;var g=document.getElementById("mobileSearchDropdown");if(g!=null&&g.style.display=="block"){var j=document.getElementById("MobileSimpleSearchForm_SearchTerm")}else{var j=document.CatalogSearchForm.searchTerm}j.setAttribute("aria-activedescendant","advancedSearch")}}}return}if(d.length>this.AUTOSUGGEST_THRESHOLD&&d==this.autoSuggestPreviousTerm){return}else{this.autoSuggestPreviousTerm=d}if(d.length<=this.AUTOSUGGEST_THRESHOLD){return}if(this.autoSuggestTimer!=-1){clearTimeout(this.autoSuggestTimer);this.autoSuggestTimer=-1}if(d!=""){this.autoSelectOption=-1;var c=this.doStaticAutoSuggest(d);if(d.length>this.DYNAMIC_AUTOSUGGEST_THRESHOLD){var f=true;this.doDynamicAutoSuggest(b,d,f)}else{document.getElementById("autoSuggestDynamic_Result_div").innerHTML=""}}else{this.clearAutoSuggestResults()}},tokenizeForBidi:function(k,a,c,d){var h=k.split(" > ");var e="";var g="";if(h.length>0){e=e+"<div class='category_list'>";for(i=0;i<h.length;i++){if(i!=0){e=e+"<span class='gt'>&nbsp; > &nbsp;</span>"}if(i==h.length-1){var f=a.toLowerCase().indexOf(d);var b=a.substr(0,f);var l=a.substr(f+c.length);var j="<span class='highlight'>"+c+"</span>";g=b+j+l}else{g=h[i]}e=e+g}e=e+"</div>"}return e},doStaticAutoSuggest:function(v){var B=["","","","","",""];var C=0;var n=v.toLowerCase();var k=this.CACHED_AUTOSUGGEST_OFFSET;var q="<div class='list_section'><div";var b="</div></div>";for(var t=0;t<staticContent.length;t++){var l=0;for(var r=0;r<staticContent[t].length;r++){var f=staticContent[t][r][0];var w=staticContent[t][r][1];var h=staticContent[t][r][2];var m=f.toLowerCase().indexOf(n);if(m!=-1){var c=this.tokenizeForBidi(h,f,v,n);B[t]=B[t]+"<ul class='autoSuggestDivNestedList'><li id='suggestionItem_"+k+"' role='listitem' tabindex='-1'><a id='autoSelectOption_"+k+"' title='"+f+"' onmouseout='this.className=\"\"; this.autoSuggestURL=\"\";' onclick='SearchJS.hideSearchComponent();' onmouseover='SearchJS.enableAutoSelect("+k+"); this.autoSuggestURL=this.href;' href=\""+w+'">'+c+"</a></li></ul>";l++;k++;if(l>=this.TOTAL_SUGGESTED){break}}}}for(var t=0;t<staticContent.length;t++){document.getElementById(this.STATIC_CONTENT_SECTION_DIV[t]).innerHTML="";if(B[t]!=""){var e="<ul class='autoSuggestDivNestedList'><li class='heading'><span>"+staticContentHeaders[t]+"</span></li></ul>";document.getElementById(this.STATIC_CONTENT_SECTION_DIV[C]).innerHTML=e+q+" role='list' title='"+staticContentHeaders[t]+"' aria-label='"+staticContentHeaders[t]+"'>"+B[t]+b;C++}}var s="";var p=document.getElementById("autoSuggestHistory");p.innerHTML="";var A=new Array();this.historyIndex=k;var u=getCookie("searchTermHistory");if(typeof(u)!="undefined"){var d=u.split("|");var l=0;for(var t=d.length-1;t>0;t--){var o=d[t];var a=o.toLowerCase();if(a.match("^"+n)==n){var g=false;for(var r=0;r<A.length;r++){if(A[r]==a){g=true;break}}if(!g){if(l>=this.TOTAL_HISTORY){break}s=s+"<ul class='autoSuggestDivNestedList'><li id='suggestionItem_"+k+"' role='listitem' tabindex='-1'><a href='#' onmouseout='this.className=\"\"' onmouseover='SearchJS.enableAutoSelect("+k+");' onclick='SearchJS.selectAutoSuggest(this.title); return false;' title='"+o+"' id='autoSelectOption_"+k+"'><strong>"+v+"</strong>"+o.substring(v.length,o.length)+"</a></li></ul>";A.push(a);l++;k++}}}}if(s!=""){var e="<ul class='autoSuggestDivNestedList'><li class='heading'><span>"+this.staticContentHeaderHistory+"</span></li></ul>";p.innerHTML=e+q+" title='"+this.staticContentHeaderHistory+"'>"+s+b;C++}if(C>0){this.showAutoSuggest(true);return true}return false},retrieveCachedSuggestions:function(){if(!this.retrievedCachedSuggestions){wc.render.getRefreshControllerById("AutoSuggestCachedSuggestionsController").url=this.CachedSuggestionsURL;console.debug("update cache sugg "+this.CachedSuggestionsURL);wc.render.updateContext("CachedSuggestions_Context",{})}},updateSearchTermHistoryCookie:function(b){var d="searchTermHistory";var c="|"+b;var a=getCookie(d);if(typeof(a)!="undefined"){c=dojo.cookie(d)+c}dojo.cookie(d,c,{path:"/"})},updateSearchTermHistoryCookieAndRedirect:function(a,b){this.updateSearchTermHistoryCookie(a);document.location.href=appendWcCommonRequestParameters(b)},isValidNumber:function(a){return !isNaN(parseFloat(a))&&isFinite(a)&&a>=0},validateForm:function(f){f.minPrice.value=trim(f.minPrice.value);f.maxPrice.value=trim(f.maxPrice.value);var g=f.minPrice.value;var h=f.maxPrice.value;var b=this.isValidNumber(g);var e=this.isValidNumber(h);if(g.length>0&&!b){MessageHelper.formErrorHandleClient(f.minPrice.id,MessageHelper.messages.EDPPaymentMethods_AMOUNT_NAN);return false}else{if(h.length>0&&!e){MessageHelper.formErrorHandleClient(f.maxPrice.id,MessageHelper.messages.EDPPaymentMethods_AMOUNT_NAN);return false}else{if(g.length>0&&h.length>0&&parseFloat(g)>parseFloat(h)){MessageHelper.formErrorHandleClient(f.maxPrice.id,MessageHelper.messages.ERROR_PRICE_RANGE);return false}}}f.searchTerm.value=trim(f.searchTerm.value);f.filterTerm.value=trim(f.filterTerm.value);f.manufacturer.value=trim(f.manufacturer.value);var a=f.searchTerm.value;var c=f.filterTerm.value;var d=f.manufacturer.value;if(a.length==0&&c.length==0&&d.length==0){MessageHelper.formErrorHandleClient(f.searchTerm.id,MessageHelper.messages.ERROR_EMPTY_SEARCH_FIELDS);return false}processAndSubmitForm(f)},registerMouseDown:function(){if(this.mouseDownConnectHandle==null){this.mouseDownConnectHandle=dojo.connect(document.documentElement,"onmousedown",this,"handleMouseDown")}},unregisterMouseDown:function(){if(this.mouseDownConnectHandle!=null){dojo.disconnect(this.mouseDownConnectHandle);this.mouseDownConnectHandle=null}},handleMouseDown:function(a){var d=a.target;if(d!=document.documentElement){var c=document.getElementById("searchDropdown");var b=document.CatalogSearchForm.searchTerm;var e=true;while(d){if(d==c||d==b){e=false;break}d=d.parentNode}if(e){this.showAutoSuggest(false)}}}};wc.render.declareContext("AutoSuggest_Context",null,"");wc.render.declareContext("CachedSuggestions_Context",null,"");wc.render.declareRefreshController({id:"AutoSuggestCachedSuggestionsController",renderContext:wc.render.getContextById("CachedSuggestions_Context"),url:"",formId:"",renderContextChangedHandler:function(c,d){var a=this;var b=this.renderContext;d.refresh(b.properties)},postRefreshHandler:function(f){var g=this;var a=this.renderContext;var b=document.getElementById("cachedSuggestions");if(b==null){document.getElementById("autoSuggestCachedSuggestions_div").innerHTML=""}else{var c=b.getElementsByTagName("script");var d=c.length;for(var e=0;e<d;e++){var k=document.createElement("script");k.type="text/javascript";k.text=c[e].text;document.getElementById("autoSuggestCachedSuggestions_div").appendChild(k)}SearchJS.retrievedCachedSuggestions=true;var h=document.getElementById("mobileSearchDropdown");if(h!=null&&h.style.display=="block"){searchTerm=document.getElementById("MobileSimpleSearchForm_SearchTerm").value}else{searchTerm=document.CatalogSearchForm.searchTerm.value}if(searchTerm.length>SearchJS.AUTOSUGGEST_THRESHOLD){SearchJS.doStaticAutoSuggest(searchTerm)}}}});wc.render.declareRefreshController({id:"AutoSuggestDisplayController",renderContext:wc.render.getContextById("AutoSuggest_Context"),url:"",formId:"",renderContextChangedHandler:function(c,d){var a=this;var b=this.renderContext;d.refresh(b.properties)},postRefreshHandler:function(d){var a=this;var c=this.renderContext;var b=document.getElementById("suggestedKeywordResults");var e=document.getElementById("suggestedProductsResults");if(b==null&&e==null){}SearchJS.showAutoSuggestIfResults()}})}shoppingActionsJS={langId:"-1",storeId:"",catalogId:"",userType:"",baseItemAddedToCart:false,entitledItems:[],entitledItemJsonObject:null,selectedAttributesList:new Object(),moreInfoUrl:"",isPopup:false,displayPriceRange:true,itemPriceJsonOject:[],allSwatchesArrayList:new Object(),skuImageId:"",cookieKeyPrefix:"CompareItems_",cookieDelimiter:";",maxNumberProductsAllowedToCompare:4,minNumberProductsAllowedToCompare:2,baseCatalogEntryId:0,selectedProducts:new Object(),productList:new Object(),currencySymbol:"",compareReturnName:"",searchTerm:"",search01:"'",search02:'"',replaceStr01:/\\\'/g,replaceStr02:/\\\"/g,ampersandChar:/&/g,ampersandEntityName:"&amp;",productAddedList:new Object(),setCompareReturnName:function(a){this.compareReturnName=a},setSearchTerm:function(a){this.searchTerm=a},setCommonParameters:function(e,a,d,c,b){this.langId=e;this.storeId=a;this.catalogId=d;this.userType=c;this.currencySymbol=b},setEntitledItems:function(a){this.entitledItems=a},getCatalogEntryId:function(a){var c=[];var b=this.selectedAttributesList[a];for(attribute in b){c.push(attribute+"_"+b[attribute])}return this.resolveSKU(c)},getCatalogEntryIdforProduct:function(a){var b=[];for(attribute in a){b.push(attribute+"_"+a[attribute])}return this.resolveSKU(b)},getEntitledItemJsonObject:function(){return this.entitledItemJsonObject},resolveSKU:function(e){console.debug("Resolving SKU >> "+e+">>"+this.entitledItems);var g="";var d=e.length;if(this.entitledItems.length==1){return this.entitledItems[0].catentry_id}for(x in this.entitledItems){var g=this.entitledItems[x].catentry_id;var f=this.entitledItems[x].Attributes;var a=0;for(index in f){a++}if(d==0&&a==0){return g}if(a!=0&&d>=a){var c=0;for(attributeName in e){var b=e[attributeName];if(b in f){c++}}if(a==c){console.debug("CatEntryId:"+g+" for Attribute: "+e);return g}}}return null},setSelectedAttribute:function(b,e,a,d,f){console.debug(b+" : "+e);var c=this.selectedAttributesList[a];if(c==null){c=new Object()}e=e.replace(this.replaceStr01,this.search01);e=e.replace(this.replaceStr02,this.search02);e=e.replace(this.ampersandChar,this.ampersandEntityName);c[b]=e;this.moreInfoUrl=this.moreInfoUrl+"&"+b+"="+e;this.selectedAttributesList[a]=c;this.changeProdImage(a,b,e,d,f)},setSelectedAttributeOfProduct:function(productId,selectedAttributeName,selectedAttributeValue,isSingleSKU){var selectedAttributesForProduct=null;if(this.selectedProducts[productId]){selectedAttributesForProduct=this.selectedProducts[productId]}else{selectedAttributesForProduct=new Object()}if(null!=selectedAttributeName&&""!=selectedAttributeName){selectedAttributesForProduct[selectedAttributeName]=selectedAttributeValue}this.selectedProducts[productId]=selectedAttributesForProduct;var entitledItemJSON=eval("("+dojo.byId("entitledItem_"+productId).innerHTML+")");this.setEntitledItems(entitledItemJSON);var catalogEntryId=this.getCatalogEntryIdforProduct(selectedAttributesForProduct);if(catalogEntryId==null){catalogEntryId=0}else{this.changePrice("entitledItem_"+productId,false,true,productId);if(typeof MerchandisingAssociationJS!="undefined"){if(MerchandisingAssociationJS.baseItemParams!=null){if(MerchandisingAssociationJS.baseItemParams.type=="BundleBean"){for(idx=0;idx<MerchandisingAssociationJS.baseItemParams.components.length;idx++){if(productId==MerchandisingAssociationJS.baseItemParams.components[idx].productId){MerchandisingAssociationJS.baseItemParams.components[idx].id=catalogEntryId}}}}}}var productDetails=null;if(this.productList[productId]){productDetails=this.productList[productId]}else{productDetails=new Object();this.productList[productId]=productDetails;productDetails.baseItemId=productId}productDetails.id=catalogEntryId;if(productDetails.quantity){dojo.topic.publish("Quantity_Changed",dojo.toJson(productDetails))}if(!isSingleSKU){if(catalogEntryId!=0){dojo.topic.publish("DefiningAttributes_Resolved_"+productId,catalogEntryId,productId)}else{dojo.topic.publish("DefiningAttributes_Changed_"+productId,catalogEntryId,productId)}}},Add2ShopCartAjax:function(entitledItemId,quantity,isPopup,customParams){if(browseOnly){MessageHelper.displayErrorMessage(storeNLS.ERROR_ADD2CART_BROWSE_ONLY);return}var entitledItemJSON;if(dojo.byId(entitledItemId)!=null){entitledItemJSON=eval("("+dojo.byId(entitledItemId).innerHTML+")")}else{entitledItemJSON=this.getEntitledItemJsonObject()}this.setEntitledItems(entitledItemJSON);var catalogEntryId=this.getCatalogEntryId(entitledItemId);if(catalogEntryId!=null){var productId=entitledItemId.substring(entitledItemId.indexOf("_")+1);this.AddItem2ShopCartAjax(catalogEntryId,quantity,customParams,productId);this.baseItemAddedToCart=true;if(dijit.byId("second_level_category_popup")!=null){hidePopup("second_level_category_popup")}}else{if(isPopup==true){dojo.byId("second_level_category_popup").style.zIndex="1";MessageHelper.formErrorHandleClient("addToCartLinkAjax",storeNLS.ERR_RESOLVING_SKU)}else{MessageHelper.displayErrorMessage(storeNLS.ERR_RESOLVING_SKU);this.baseItemAddedToCart=false}}},AddItem2ShopCartAjax:function(h,d,b,e){if(browseOnly){MessageHelper.displayErrorMessage(storeNLS.ERROR_ADD2CART_BROWSE_ONLY);return}var c=[];c.storeId=this.storeId;c.catalogId=this.catalogId;c.langId=this.langId;c.orderId=".";c.inventoryValidation="true";c.calculateOrder="0";var j="AddOrderItem";this.productAddedList=new Object();if(dojo.isArray(h)&&dojo.isArray(d)){for(var f=0;f<h.length;f++){if(!isPositiveInteger(d[f])){MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR);return}c["catEntryId_"+(f+1)]=h[f];c["quantity_"+(f+1)]=d[f]}}else{if(!isPositiveInteger(d)){MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR);return}c.catEntryId=h;c.quantity=d;var g=new Object();for(attr in this.selectedAttributesList["entitledItem_"+e]){g[attr]=this.selectedAttributesList["entitledItem_"+e][attr]}if(e==undefined){this.saveAddedProductInfo(d,h,h,g)}else{this.saveAddedProductInfo(d,e,h,g)}}if(b!=null&&b!="undefined"){for(f in b){c[f]=b[f]}if(b.catalogEntryType=="dynamicKit"){j="AddPreConfigurationToCart"}}var a=document.getElementsByName("contractSelectForm_contractId");if(a!=null&&a!="undefined"){for(f=0;f<a.length;f++){if(a[f].checked){c.contractId=a[f].value;break}}}if(!submitRequest()){return}cursor_wait();wc.service.invoke(j,c);this.baseItemAddedToCart=true;if(document.getElementById("headerShopCartLink")&&document.getElementById("headerShopCartLink").style.display!="none"){document.getElementById("headerShopCart").focus()}else{if(document.getElementById("headerShopCart1")){document.getElementById("headerShopCart1").focus()}}},AddBundle2ShopCartAjax:function(){if(browseOnly){MessageHelper.displayErrorMessage(storeNLS.ERROR_ADD2CART_BROWSE_ONLY);return}var b="AddOrderItem";var e=[];e.storeId=this.storeId;e.catalogId=this.catalogId;e.langId=this.langId;e.orderId=".";e.inventoryValidation="true";e.calculateOrder="0";var a=1;this.productAddedList=new Object();for(productId in this.productList){var c=this.productList[productId];var d=dojo.number.parse(c.quantity);if(d==0){continue}if(c.id==0){MessageHelper.displayErrorMessage(storeNLS.ERR_RESOLVING_SKU);return}if(isNaN(d)||d<0){MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR);return}e["catEntryId_"+a]=c.id;e["quantity_"+a++]=d;this.baseItemAddedToCart=true;this.saveAddedProductInfo(d,productId,c.id,this.selectedProducts[productId])}if(!submitRequest()){return}cursor_wait();wc.service.invoke(b,e)},resetProductAddedList:function(){shoppingActionsJS.productAddedList=new Object()},saveAddedProductInfo:function(h,c,a,g){var e="";if(document.getElementById("ProductInfoName_"+c)!=null){e=document.getElementById("ProductInfoName_"+c).value}else{if(document.getElementById("ProductInfoName_"+a)!=null){e=document.getElementById("ProductInfoName_"+a).value}}var b="";if(document.getElementById("ProductInfoImage_"+c)!=null){b=document.getElementById("ProductInfoImage_"+c).value}else{if(document.getElementById("ProductInfoImage_"+a)!=null){b=document.getElementById("ProductInfoImage_"+a).value}}var f="";if(document.getElementById("ProductInfoPrice_"+c)!=null){f=document.getElementById("ProductInfoPrice_"+c).value}else{if(document.getElementById("ProductInfoPrice_"+a)!=null){f=document.getElementById("ProductInfoPrice_"+a).value}}var d=[e,b,f,h,g];if(c!=a){this.productAddedList[a]=d}else{this.productAddedList[c]=d}dojo.topic.publish("ProductInfo_Added",this.productAddedList)},setSKUImageId:function(a){this.skuImageId=a},getImageForSKU:function(a,c){var d=[];var b=this.selectedAttributesList[a];for(attribute in b){d.push(attribute+"_"+b[attribute])}return this.resolveImageForSKU(d,c)},resolveImageForSKU:function(b,g){console.debug("Resolving SKU >> "+b+">>"+this.entitledItems);var h="";var c=b.length;for(x in this.entitledItems){if(null!=g){var h=this.entitledItems[x][g]}else{var h=this.entitledItems[x].ItemImage467}var e=this.entitledItems[x].Attributes;var a=0;for(index in e){a++}if(c==0&&a==0){return h}if(a!=0&&c>=a){var j=0;for(attributeName in b){var f=b[attributeName];if(f in e){j++}}if(a==j){console.debug("ItemImage:"+h+" for Attribute: "+b);var d=[];d.push(h);d.push(this.entitledItems[x].ItemThumbnailImage);if(this.entitledItems[x].ItemAngleThumbnail!=null&&this.entitledItems[x].ItemAngleThumbnail!=undefined){d.push(this.entitledItems[x].ItemAngleThumbnail);d.push(this.entitledItems[x].ItemAngleFullImage)}return d}}}return null},changeViewImages:function(d,a){var c=0;for(x in d){var b=c;c++;if(null!=dojo.byId("WC_CachedProductOnlyDisplay_images_1_"+c)){dojo.byId("WC_CachedProductOnlyDisplay_images_1_"+c).src=d[x]}if(null!=dojo.byId("WC_CachedProductOnlyDisplay_links_1_"+c)){dojo.byId("WC_CachedProductOnlyDisplay_links_1_"+c).href="JavaScript:changeThumbNail('productAngleLi"+b+"','"+a[x]+"');"}if(null!=dojo.byId("productAngleLi"+b)&&dojo.byId("productAngleLi"+b).className=="selected"){changeThumbNail("productAngleLi"+b,a[x])}}},changeProdImage:function(entitledItemId,swatchAttrName,swatchAttrValue,skuImageId,imageField){if(dojo.byId(entitledItemId)!=null){entitledItemJSON=eval("("+dojo.byId(entitledItemId).innerHTML+")")}this.setEntitledItems(entitledItemJSON);var productId=entitledItemId.substring(entitledItemId.indexOf("_")+1);var skuImage=null;var imageArr=shoppingActionsJS.getImageForSKU(entitledItemId,imageField);if(imageArr!=null){skuImage=imageArr[0]}if(skuImageId!=undefined){this.setSKUImageId(skuImageId)}if(skuImage!=null){if(dojo.byId(this.skuImageId)!=null){document.getElementById(this.skuImageId).src=skuImage;if(document.getElementById("ProductInfoImage_"+productId)!=null){document.getElementById("ProductInfoImage_"+productId).value=skuImage}var itemAngleThumbnail=imageArr[2];var itemAngleFullImage=imageArr[3];if(itemAngleThumbnail!=null&&itemAngleThumbnail!=undefined){shoppingActionsJS.changeViewImages(itemAngleThumbnail,itemAngleFullImage)}}}else{var imageFound=false;for(x in this.entitledItems){var Attributes=this.entitledItems[x].Attributes;if(null!=imageField){var itemImage=this.entitledItems[x][imageField]}else{var itemImage=this.entitledItems[x].ItemImage467}var itemAngleThumbnail=this.entitledItems[x].ItemAngleThumbnail;var itemAngleFullImage=this.entitledItems[x].ItemAngleFullImage;for(y in Attributes){var index=y.indexOf("_");var entitledSwatchName=y.substring(0,index);var entitledSwatchValue=y.substring(index+1);if(entitledSwatchName==swatchAttrName&&entitledSwatchValue==swatchAttrValue){if(null!=dojo.byId(this.skuImageId)){dojo.byId(this.skuImageId).src=itemImage;if(document.getElementById("ProductInfoImage_"+productId)!=null){document.getElementById("ProductInfoImage_"+productId).value=itemImage}}if(itemAngleThumbnail!=null&&itemAngleThumbnail!=undefined){shoppingActionsJS.changeViewImages(itemAngleThumbnail,itemAngleFullImage)}imageFound=true;break}}if(imageFound){break}}}},updateSwatchListView:function(){var swatchArray=dojo.query("a[id^='swatch_array_']");for(var i=0;i<swatchArray.length;i++){var swatchArrayElement=swatchArray[i];eval(dojo.attr(swatchArrayElement,"href"))}var swatchSkuImage=dojo.query("a[id^='swatch_setSkuImage_']");for(var i=0;i<swatchSkuImage.length;i++){var swatchSkuImageElement=swatchSkuImage[i];eval(dojo.attr(swatchSkuImageElement,"href"))}var swatchDefault=dojo.query("a[id^='swatch_selectDefault_']");for(var i=0;i<swatchDefault.length;i++){var swatchDefaultElement=swatchDefault[i];eval(dojo.attr(swatchDefaultElement,"href"))}},selectSwatch:function(c,g,a,b,f,h){if(dojo.hasClass("swatch_"+a+"_"+g,"color_swatch_disabled")){return}var e=this.selectedAttributesList[a];for(attribute in e){if(attribute==c){if(e[attribute]!=g){var d=dojo.byId("swatch_"+a+"_"+e[attribute]);d.className="color_swatch";d.src=d.src.replace("_disabled.png","_enabled.png");dojo.byId("swatch_link_"+a+"_"+e[attribute]).title=d.alt}}if(document.getElementById("swatch_link_"+a+"_"+e[attribute])!=null){document.getElementById("swatch_link_"+a+"_"+e[attribute]).setAttribute("aria-checked","false")}}this.makeSwatchSelection(c,g,a,b,f,h)},makeSwatchSelection:function(f,e,a,b,c,d){this.setSelectedAttribute(f,e,a,c,d);document.getElementById("swatch_"+a+"_"+e).className="color_swatch_selected";document.getElementById("swatch_link_"+a+"_"+e).setAttribute("aria-checked","true");document.getElementById("swatch_selection_label_"+a+"_"+f).className="header color_swatch_label";if(document.getElementById("swatch_selection_"+a+"_"+f).style.display=="none"){document.getElementById("swatch_selection_"+a+"_"+f).style.display="inline"}document.getElementById("swatch_selection_"+a+"_"+f).innerHTML=e;this.updateSwatchImages(f,a,b,d)},addToAllSwatchsArray:function(d,f,b,a){var e=this.allSwatchesArrayList[a];if(e==null){e=new Array()}if(!this.existInAllSwatchsArray(d,f,e)){var c=new Array();c[0]=d;c[1]=f;c[2]=b;c[4]=document.getElementById("swatch_link_"+a+"_"+f).onclick;e.push(c);this.allSwatchesArrayList[a]=e}},existInAllSwatchsArray:function(c,f,e){for(var b=0;b<e.length;b++){var a=e[b][0];var d=e[b][1];if(a==c&&d==f){return true}}return false},makeDefaultSwatchSelection:function(entitledItemId,doNotDisable){if(this.entitledItems.length==0){if(dojo.byId(entitledItemId)!=null){entitledItemJSON=eval("("+dojo.byId(entitledItemId).innerHTML+")")}this.setEntitledItems(entitledItemJSON)}for(x in this.entitledItems){var Attributes=this.entitledItems[x].Attributes;for(y in Attributes){var index=y.indexOf("_");var swatchName=y.substring(0,index);var swatchValue=y.substring(index+1);this.makeSwatchSelection(swatchName,swatchValue,entitledItemId,doNotDisable,imageField)}break}},updateSwatchImages:function(c,B,r,L){var p=new Array();var l=this.selectedAttributesList[B];var m=l[c];var A=this.allSwatchesArrayList[B];for(var I=0;I<A.length;I++){var H=A[I][0];var w=A[I][1];var G=A[I][2];var E=A[I][3];var t=A[I][4];if(H!=r&&H!=c){var f=new Array();f[0]=H;f[1]=w;f[2]=G;f[4]=t;f[5]=false;p.push(f)}}for(x in this.entitledItems){var J=this.entitledItems[x].Attributes;for(y in J){var o=y.indexOf("_");var K=y.substring(0,o);var k=y.substring(o+1);if(K==c&&k==m){for(z in J){var h=z.indexOf("_");var v=z.substring(0,h);var a=z.substring(h+1);if(y!=z){for(I in p){var q=p[I][0];var g=p[I][1];if(v==q&&a==g){p[I][5]=true}}}}}}}var b=[];for(I in p){var q=p[I][0];var g=p[I][1];var n=p[I][2];var j=p[I][3];var e=p[I][4];var C=p[I][5];if(C){if(document.getElementById("swatch_"+B+"_"+g).className!="color_swatch_selected"){var F=dojo.byId("swatch_"+B+"_"+g);F.className="color_swatch";F.src=F.src.replace("_disabled.png","_enabled.png");dojo.byId("swatch_link_"+B+"_"+g).title=F.alt}document.getElementById("swatch_link_"+B+"_"+g).setAttribute("aria-disabled","false");document.getElementById("swatch_link_"+B+"_"+g).onclick=e}else{if(q!=r){var F=dojo.byId("swatch_"+B+"_"+g);var D=dojo.byId("swatch_link_"+B+"_"+g);F.className="color_swatch_disabled";D.onclick=null;F.src=F.src.replace("_enabled.png","_disabled.png");var u=storeNLS.INV_ATTR_UNAVAILABLE;D.title=dojo.string.substitute(u,{0:F.alt});document.getElementById("swatch_link_"+B+"_"+g).setAttribute("aria-disabled","true");if(l[q]==g){b.push(p[I])}}}}for(I in b){var d=b[I][0];var s=b[I][1];for(I in p){var q=p[I][0];var g=p[I][1];var C=p[I][5];if(q==d&&g!=s&&C){this.makeSwatchSelection(q,g,B,r,L);break}}}},changePrice:function(entitledItemId,isPopup,displayPriceRange,productId){this.displayPriceRange=displayPriceRange;this.isPopup=isPopup;var entitledItemJSON;if(dojo.byId(entitledItemId)!=null&&!this.isPopup){entitledItemJSON=eval("("+dojo.byId(entitledItemId).innerHTML+")")}else{entitledItemJSON=this.getEntitledItemJsonObject()}var catalogEntryId=null;this.setEntitledItems(entitledItemJSON);if(this.selectedProducts[productId]){var catalogEntryId=this.getCatalogEntryIdforProduct(this.selectedProducts[productId])}else{var catalogEntryId=this.getCatalogEntryId(entitledItemId)}if(catalogEntryId!=null){if(this.itemPriceJsonOject[catalogEntryId]!=null&&this.itemPriceJsonOject[catalogEntryId]!="undefined"){this.displayPrice(this.itemPriceJsonOject[catalogEntryId].catalogEntry,productId);console.debug("ShoppingActions.changePrice: using stored json object.")}else{var parameters={};parameters.storeId=this.storeId;parameters.langId=this.langId;parameters.catalogId=this.catalogId;parameters.catalogEntryId=catalogEntryId;parameters.productId=productId;dojo.xhrPost({url:getAbsoluteURL()+appendWcCommonRequestParameters("GetCatalogEntryDetailsByIDView"),handleAs:"json-comment-filtered",content:parameters,service:this,load:shoppingActionsJS.displayPriceServiceResponse,error:function(errObj,ioArgs){console.debug("ShoppingActions.changePrice: Unexpected error occurred during an xhrPost request.")}})}}else{console.debug("ShoppingActions.changePrice: all attributes are not selected.")}},displayPriceServiceResponse:function(b,a){var c=a.args.content.productId;shoppingActionsJS.itemPriceJsonOject[b.catalogEntry.catalogEntryIdentifier.uniqueID]=b;shoppingActionsJS.displayPrice(b.catalogEntry,c)},displayPrice:function(c,g){var e;var b=shoppingActionsJS.isPopup;if(b==true){document.getElementById("productPrice").innerHTML=c.offerPrice;document.getElementById("productName").innerHTML=c.description[0].name;document.getElementById("productSKUValue").innerHTML=c.catalogEntryIdentifier.externalIdentifier.partNumber}if(b==false){var k="";var d=dojo.currency.parse(c.listPrice,{symbol:this.currencySymbol});var j=dojo.currency.parse(c.offerPrice,{symbol:this.currencySymbol});this.setPriceInProductList(g,j);if(!c.listPriced||d<=j){k="<span id='offerPrice_"+c.catalogEntryIdentifier.uniqueID+"' class='price'>"+c.offerPrice+"</span>"}else{k="<span id='listPrice_"+c.catalogEntryIdentifier.uniqueID+"' class='old_price'>"+c.listPrice+"</span><span id='offerPrice_"+c.catalogEntryIdentifier.uniqueID+"' class='price'>"+c.offerPrice+"</span>"}document.getElementById("price_display_"+g).innerHTML=k+"<input type='hidden' id='ProductInfoPrice_"+c.catalogEntryIdentifier.uniqueID+"' value='"+c.offerPrice+"'/>";k="";if(shoppingActionsJS.displayPriceRange==true){for(var h in c.priceRange){if(c.priceRange[h].endingNumberOfUnits==c.priceRange[h].startingNumberOfUnits){e=storeNLS.PQ_PRICE_X;k=k+"<p>"+dojo.string.substitute(e,{0:c.priceRange[h].startingNumberOfUnits})}else{if(c.priceRange[h].endingNumberOfUnits!="null"){e=storeNLS.PQ_PRICE_X_TO_Y;k=k+"<p>"+dojo.string.substitute(e,{0:c.priceRange[h].startingNumberOfUnits,1:c.priceRange[h].endingNumberOfUnits})}else{e=storeNLS.PQ_PRICE_X_OR_MORE;k=k+"<p>"+dojo.string.substitute(e,{0:c.priceRange[h].startingNumberOfUnits})}}k=k+" <span class='price'>"+c.priceRange[h].localizedPrice+"</span></p>"}}var a=dojo.byId("productLevelPriceRange_"+g);var l=dojo.byId("itemLevelPriceRange_"+g);if(null!=a&&null==l){dojo.style(a,"display","")}else{if(""!=k&&null!=l){k=storeNLS.PQ_PURCHASE+k;l.innerHTML=k;dojo.style(l,"display","");if(null!=a){dojo.style(a,"display","none")}}else{if(""==k){if(null!=l){dojo.style(l,"display","none")}if(null!=a){dojo.style(a,"display","")}}}}var f=dojo.query("#product_name_"+g+" > a");if(f.length==1){f[0].innerHTML=c.description[0].name}else{if(dojo.byId("product_name_"+g)){dojo.byId("product_name_"+g).innerHTML=c.description[0].name}}if(dojo.query("#widget_product_info_viewer > div[id^='PageHeading_']")!=null){dojo.query("#widget_product_info_viewer > div[id^='PageHeading_']").forEach(function(m){if(m.childNodes!=null&&m.childNodes.length==3){m.childNodes[1].innerHTML=c.description[0].name}})}if(document.getElementById("ProductInfoName_"+g)!=null){document.getElementById("ProductInfoName_"+g).value=c.description[0].name}if(document.getElementById("product_shortdescription_"+g)){document.getElementById("product_shortdescription_"+g).innerHTML=c.description[0].shortDescription}if(document.getElementById("product_SKU_"+g)){document.getElementById("product_SKU_"+g).innerHTML=storeNLS.SKU+" "+c.catalogEntryIdentifier.externalIdentifier.partNumber}}},showWCDialogPopup:function(b){var a=dijit.byId(b);if(a!=null){a.closeButtonNode.style.display="none";a.show()}else{console.debug(b+" does not exist")}},notifyAttributeChange:function(b){this.baseCatalogEntryId=b;var a=this.selectedAttributesList["entitledItem_"+b];dojo.topic.publish("DefiningAttributes_Resolved_"+b,b,-1)},notifyQuantityChange:function(a){dojo.topic.publish("Quantity_Changed",a)},initCompare:function(b){if(b=="compare"){this.checkForCompare()}else{var c=this.cookieKeyPrefix+this.storeId;var a="";dojo.cookie(c,a,{path:"/"})}},changeCompareBox:function(a,b){box=document.getElementById(a);box.checked=!box.checked;this.addOrRemoveFromCompare(b,box.checked)},addOrRemoveFromCompare:function(b,a){if(a){this.addToCompare(b)}else{this.removeFromCompare(b)}},addToCompare:function(b){var e=this.cookieKeyPrefix+this.storeId;var d=dojo.cookie(e);if(d!=null){if(d.indexOf(b)!=-1||b==null){MessageHelper.displayErrorMessage(storeNLS.COMPARE_ITEM_EXISTS);return}}var a=0;if(d!=null&&d!=""){a=d.split(this.cookieDelimiter).length}if(a<parseInt(this.maxNumberProductsAllowedToCompare)){var c="";if(d==null||d==""){c=b}else{c=d+this.cookieDelimiter+b}dojo.cookie(e,c,{path:"/"});shoppingActionsJS.checkForCompare()}else{this.showWCDialogPopup("widget_product_comparison_popup");document.getElementById("comparebox_"+b).checked=false;console.debug("You can only compare up to 4 products")}},removeFromCompare:function(c){var f=this.cookieKeyPrefix+this.storeId;var e=dojo.cookie(f);var b=0;if(e!=null){if(dojo.trim(e)==""){dojo.cookie(f,null,{expires:-1})}else{var a=e.split(this.cookieDelimiter);var d="";for(index in a){if(a[index]!=c){if(d==""){d=a[index]}else{d=d+this.cookieDelimiter+a[index]}}}dojo.cookie(f,d,{path:"/"});b=d.split(this.cookieDelimiter).length}shoppingActionsJS.checkForCompare()}},compareProducts:function(b){var a=appendWcCommonRequestParameters("CompareProductsDisplayView?storeId="+this.storeId+"&catalogId="+this.catalogId+"&langId="+this.langId+"&compareReturnName="+this.compareReturnName+"&searchTerm="+this.searchTerm);if(""!=b.top_category){a=a+"&top_category="+b.top_category}if(""!=b.parent_category_rn){a=a+"&parent_category_rn="+b.parent_category_rn}if(""!=b.categoryId){a=a+"&categoryId="+b.categoryId}var d=this.cookieKeyPrefix+this.storeId;var c=dojo.cookie(d);if(c!=null&&dojo.trim(c)!=""){a=a+"&catentryId="+c}var e=appendWcCommonRequestParameters(location.href);if(e.indexOf("?")==-1){e=e+"?fromPage=compare"}else{if(e.indexOf("fromPage=compare")==-1){e=e+"&fromPage=compare"}}a=a+"&returnUrl="+encodeURIComponent(e);location.href=getAbsoluteURL()+a},setProductQuantity:function(e,c,d,b){var a=null;if(this.productList[c]){a=this.productList[c]}else{a=new Object();this.productList[c]=a;a.baseItemId=c;if("item"==e){a.id=c}else{a.id=0}}a.quantity=d;dojo.topic.publish("Quantity_Changed",dojo.toJson(a));a.price=dojo.number.parse(b)},quantityChanged:function(b,c){if(this.productList[b]){var a=this.productList[b];a.quantity=dojo.trim(c);dojo.topic.publish("Quantity_Changed",dojo.toJson(a));if(MerchandisingAssociationJS!=null){if(MerchandisingAssociationJS.baseItemParams!=null){if(MerchandisingAssociationJS.baseItemParams.type=="BundleBean"){for(idx=0;idx<MerchandisingAssociationJS.baseItemParams.components.length;idx++){if(b==MerchandisingAssociationJS.baseItemParams.components[idx].productId||b==MerchandisingAssociationJS.baseItemParams.components[idx].id){MerchandisingAssociationJS.baseItemParams.components[idx].quantity=a.quantity}}}}}}},setPriceInProductList:function(c,b){var a=this.productList[c];if(a){a.price=b}},selectBundleItemSwatch:function(r,q,m,f){if(dojo.hasClass("swatch_"+r+"_"+q+"_"+m,"color_swatch_disabled")){return}if(dojo.byId("entitledItem_"+r)!=null){var g;var u=q+"_"+m;g=dojo.fromJson(dojo.byId("entitledItem_"+r).innerHTML);var t=new Array();for(idx in g){var d=false;var l=g[idx];for(attribute in l.Attributes){if(u==attribute){d=true;break}}if(d){for(attribute in l.Attributes){var p=attribute.substring(0,attribute.lastIndexOf("_"));if(p!=f&&p!=q){t.push(attribute)}}}}var c=new Array();var a=new Array();for(idx in g){var l=g[idx];for(attribute in l.Attributes){var p=attribute.substring(0,attribute.lastIndexOf("_"));if(p!=f&&p!=q){var o="swatch_"+r+"_"+attribute;var h=o.replace("swatch_","swatch_link_");if(dojo.indexOf(t,attribute)>-1){if(!dojo.hasClass(o,"color_swatch_selected")){dojo.byId(o).className="color_swatch";dojo.byId(o).src=dojo.byId(o).src.replace("_disabled.png","_enabled.png");dojo.byId(h).title=dojo.byId(o).alt;document.getElementById(h).setAttribute("aria-disabled","false")}}else{if(dojo.indexOf(c,attribute)==-1){c.push(attribute);if(dojo.hasClass(o,"color_swatch_selected")){a.push(o)}dojo.byId(o).className="color_swatch_disabled";dojo.byId(o).src=dojo.byId(o).src.replace("_enabled.png","_disabled.png");var j=storeNLS.INV_ATTR_UNAVAILABLE;var b=dojo.byId(o).alt;dojo.byId(h).title=dojo.string.substitute(j,{0:b});document.getElementById(h).setAttribute("aria-disabled","true")}}}if(document.getElementById("swatch_link_"+r+"_"+attribute)!=null){document.getElementById("swatch_link_"+r+"_"+attribute).setAttribute("aria-checked","false")}}}for(idx in a){var k=a[idx];var s=k.substring(0,k.lastIndexOf("_"));var v=false;dojo.query("[id^='"+s+"']").forEach(function(C,B,w){if(!v&&dojo.hasClass(C,"color_swatch")){var A=C.id.split("_");shoppingActionsJS.selectBundleItemSwatch(A[1],A[2],A[3],f);shoppingActionsJS.setSelectedAttributeOfProduct(A[1],A[2],A[3],false);v=true}})}}if(dojo.byId("swatch_selection_"+r+"_"+q).style.display=="none"){dojo.byId("swatch_selection_"+r+"_"+q).style.display="inline"}dojo.byId("swatch_selection_"+r+"_"+q).innerHTML=m;var n="swatch_"+r+"_"+q+"_";var e="swatch_link_"+r+"_"+q+"_";dojo.query("img[id^='"+n+"']").forEach(function(B,A,w){if(dojo.hasClass(B,"color_swatch_disabled")){dojo.removeClass(B,"color_swatch")}else{dojo.addClass(B,"color_swatch")}dojo.removeClass(B,"color_swatch_selected")});dojo.byId(n+m).className="color_swatch_selected";document.getElementById(e+m).setAttribute("aria-checked","true");this.setSelectedAttributeOfProduct(r,q,m,false);this.changeBundleItemImage(r,q,m,"productThumbNailImage_"+r)},changeBundleItemImage:function(catalogEntryId,swatchAttrName,swatchAttrValue,skuImageId){var entitledItemId="entitledItem_"+catalogEntryId;if(dojo.byId(entitledItemId)!=null){entitledItemJSON=eval("("+dojo.byId(entitledItemId).innerHTML+")")}this.setEntitledItems(entitledItemJSON);var skuImage=null;var imageArr=shoppingActionsJS.getImageForBundleItem(catalogEntryId);if(imageArr!=null){skuImage=imageArr[1]}if(skuImageId!=undefined){this.setSKUImageId(skuImageId)}if(skuImage!=null){if(dojo.byId(this.skuImageId)!=null){document.getElementById(this.skuImageId).src=skuImage;if(document.getElementById("ProductInfoImage_"+catalogEntryId)!=null){document.getElementById("ProductInfoImage_"+catalogEntryId).value=skuImage}}}else{var imageFound=false;for(x in this.entitledItems){var Attributes=this.entitledItems[x].Attributes;var itemImage=this.entitledItems[x].ItemThumbnailImage;for(y in Attributes){var index=y.indexOf("_");var entitledSwatchName=y.substring(0,index);var entitledSwatchValue=y.substring(index+1);if(entitledSwatchName==swatchAttrName&&entitledSwatchValue==swatchAttrValue){document.getElementById(this.skuImageId).src=itemImage;if(document.getElementById("ProductInfoImage_"+catalogEntryId)!=null){document.getElementById("ProductInfoImage_"+catalogEntryId).value=itemImage}imageFound=true;break}}if(imageFound){break}}}},getImageForBundleItem:function(a){var c=[];var b=this.selectedProducts[a];for(attribute in b){c.push(attribute+"_"+b[attribute])}return this.resolveImageForSKU(c)},checkForCompare:function(){require(["dojo/_base/array","dojo/cookie","dojo/on","dojo/query"],function(f,b,a,d){var c=b(shoppingActionsJS.cookieKeyPrefix+shoppingActionsJS.storeId);c=(c?c.split(shoppingActionsJS.cookieDelimiter):[]);var e=d(".compareCheckboxLabels > label");d(".compare_target").forEach(function(k){var j=d('input[type="checkbox"]',k)[0];j.checked=(f.indexOf(c,j.value)!=-1);var h=(j.checked?(c.length>1?2:1):0);k.setAttribute("data-state",h.toString());var g=d('label[for="'+j.id+'"]',k)[0];g.innerHTML=e[h].innerHTML})})},replaceItemAjaxHelper:function(e,l,b,h,a,f){var c=[];c.storeId=WCParamJS.storeId;c.catalogId=WCParamJS.catalogId;c.langId=WCParamJS.langId;c.orderItemId=b;c.orderId=".";if(CheckoutHelperJS.shoppingCartPage){c.calculationUsage="-1,-2,-5,-6,-7"}else{c.calculationUsage="-1,-2,-3,-4,-5,-6,-7"}var j=[];j.storeId=WCParamJS.storeId;j.catalogId=WCParamJS.catalogId;j.langId=WCParamJS.langId;j.catEntryId=e;j.quantity=l;j.orderId=".";if(CheckoutHelperJS.shoppingCartPage){j.calculationUsage="-1,-2,-5,-6,-7"}else{j.calculationUsage="-1,-2,-3,-4,-5,-6,-7"}var g=[];g.storeId=WCParamJS.storeId;g.catalogId=WCParamJS.catalogId;g.langId=WCParamJS.langId;g.orderId=".";if(CheckoutHelperJS.shoppingCartPage){g.calculationUsage="-1,-2,-5,-6,-7"}else{g.calculationUsage="-1,-2,-3,-4,-5,-6,-7"}var d=false;var k=true;if(h!=null&&h!=""){g.addressId=h}if(a!=null&&a!=""){g.shipModeId=a}if(f!=null&&f!=""){g.physicalStoreId=f;k=false}if(g.shipModeId!=null&&(g.addressId!=null||g.physicalStoreId!=null)){d=true}if(k){g.allocate="***";g.backorder="***";g.remerge="***";g.check="*n"}wc.service.declare({id:"AjaxReplaceItem",actionId:"AjaxReplaceItem",url:"AjaxRESTOrderItemDelete",formId:"",successHandler:function(m){if(!d){wc.service.invoke("AjaxAddOrderItem",j)}else{wc.service.invoke("AjaxAddOrderItemTemp",j)}},failureHandler:function(m){if(m.errorMessage){MessageHelper.displayErrorMessage(m.errorMessage)}else{if(m.errorMessageKey){MessageHelper.displayErrorMessage(m.errorMessageKey)}}cursor_clear()}});wc.service.declare({id:"AjaxAddOrderItemTemp",actionId:"AjaxAddOrderItemTemp",url:"AjaxRESTOrderItemAdd",formId:"",successHandler:function(m){g.orderItemId=(m.orderItem!=null&&m.orderItem[0].orderItemId!=null)?m.orderItem[0].orderItemId:m.orderItemId;MessageHelper.displayStatusMessage(MessageHelper.messages.SHOPCART_ADDED);wc.service.invoke("OrderItemAddressShipMethodUpdate",g)},failureHandler:function(m){MessageHelper.displayErrorMessage(m.errorMessageKey)}});if(!submitRequest()){return}cursor_wait();wc.service.invoke("AjaxReplaceItem",c)},customizeDynamicKit:function(d,f,e){var g=[];g.storeId=this.storeId;g.catalogId=this.catalogId;g.langId=this.langId;g.catEntryId=d;g.quantity=f;if(!isPositiveInteger(f)){MessageHelper.displayErrorMessage(storeNLS.QUANTITY_INPUT_ERROR);return}var a=document.getElementsByName("contractSelectForm_contractId");if(a!=null&&a!="undefined"){for(b=0;b<a.length;b++){if(a[b].checked){g.contractId=a[b].value;break}}}if(e!=null&&e!="undefined"){for(b in e){g[b]=e[b]}}if(!submitRequest()){return}cursor_wait();var c="ConfigureView";var b=0;for(param in g){c+=((b++==0)?"?":"&")+param+"="+g[param]}document.location.href=getAbsoluteURL()+appendWcCommonRequestParameters(c)}};dojo.topic.subscribe("ProductInfo_Reset",shoppingActionsJS.resetProductAddedList);require(["dojo/on","dojo/has","dojo/_base/sniff","dojo/domReady!"],function(a,b){if(b("ie")<9){a(document,'.compare_target > input[type="checkbox"]:click',function(c){this.blur();this.focus()})}});dojo.require("wc.service.common");dojo.require("dijit.registry");shoppingActionsServicesDeclarationJS={langId:"-1",storeId:"",catalogId:"",setCommonParameters:function(c,a,b){this.langId=c;this.storeId=a;this.catalogId=b}};wc.service.declare({id:"AddOrderItem",actionId:"AddOrderItem",url:getAbsoluteURL()+"AjaxRESTOrderItemAdd",formId:"",successHandler:function(b){dojo.require("dijit.registry");MessageHelper.hideAndClearMessage();cursor_clear();if(shoppingActionsJS){var g=dojo.query('div[id^="attrValue_"]');if((dojo.query(".definingAttributes")[0])!=null){var g=dojo.query(".definingAttributes")}else{if((dojo.query(".product_sizes")[0])!=null){var g=dojo.query(".product_sizes")}else{if((dojo.query(".product_info")[0])!=null){var g=dojo.query(".product_info")}}}var a=new Array();for(var e=0;e<g.length;e++){var h=g[e].querySelectorAll(".dijitSelect");for(var c=0;c<h.length;c++){a=a.concat(h[c])}}var f=new Array();for(var e=0;e<a.length;e++){f[e]=dijit.registry.byNode(a[e])}var d=true;for(var e=0;e<f.length;e++){if(f[e].options.length>2){d=false}}if(!d){shoppingActionsJS.selectedAttributes=new Object();dojo.topic.publish("DefiningAttributes_Resolved_"+shoppingActionsJS.baseCatalogEntryId,shoppingActionsJS.baseCatalogEntryId,-1);for(var e=0;e<f.length;e++){if(f[e]!=null){f[e].value=""}}}}if(typeof(ShipmodeSelectionExtJS)!=null&&typeof(ShipmodeSelectionExtJS)!="undefined"){ShipmodeSelectionExtJS.setOrderItemId(b.orderItemId[0])}dojo.publish("ProductAddedToCart")},failureHandler:function(a){if(a.errorMessage){if(a.errorMessageKey=="_ERR_NO_ELIGIBLE_TRADING"){MessageHelper.displayErrorMessage(storeNLS.ERROR_CONTRACT_EXPIRED_GOTO_ORDER)}else{if(a.errorMessageKey=="_ERR_RETRIEVE_PRICE"){var b=storeNLS.GENERICERR_MAINTEXT;b=dojo.string.substitute(b,{0:storeNLS.GENERICERR_CONTACT_US});MessageHelper.displayErrorMessage(b)}else{MessageHelper.displayErrorMessage(a.errorMessage)}}}else{if(a.errorMessageKey){MessageHelper.displayErrorMessage(a.errorMessageKey)}}cursor_clear()}}),wc.service.declare({id:"AddPreConfigurationToCart",actionId:"AddOrderItem",url:getAbsoluteURL()+"AjaxRESTOrderAddPreConfigurationToCart",formId:"",successHandler:function(b){MessageHelper.hideAndClearMessage();cursor_clear();if(shoppingActionsJS){var a=document.getElementsByName("attrValue");var d=true;for(var c=0;c<a.length;c++){if(a[c].options.length>1){d=false}}if(!d){shoppingActionsJS.selectedAttributes=new Object();for(var c=0;c<a.length;c++){if(a[c]!=null){a[c].value="";a[c].onchange()}}}}if(typeof(ShipmodeSelectionExtJS)!=null&&typeof(ShipmodeSelectionExtJS)!="undefined"){ShipmodeSelectionExtJS.setOrderItemId(b.orderItemId[0])}},failureHandler:function(a){if(a.errorMessage){if(a.errorMessageKey=="_ERR_NO_ELIGIBLE_TRADING"){MessageHelper.displayErrorMessage(storeNLS.ERROR_CONTRACT_EXPIRED_GOTO_ORDER)}else{if(a.errorMessageKey=="_ERR_RETRIEVE_PRICE"){var b=storeNLS.GENERICERR_MAINTEXT;b=dojo.string.substitute(b,{0:storeNLS.GENERICERR_CONTACT_US});MessageHelper.displayErrorMessage(b)}else{MessageHelper.displayErrorMessage(a.errorMessage)}}}else{if(a.errorMessageKey){MessageHelper.displayErrorMessage(a.errorMessageKey)}}cursor_clear()}});